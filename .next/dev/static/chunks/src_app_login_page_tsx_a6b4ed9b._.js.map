{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/AI_Projects/bp-cleaning-app/src/app/login/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Loader2, Mail, Lock, Eye, EyeOff, User } from 'lucide-react'\r\nimport Image from 'next/image'\r\n\r\nexport default function LoginPage() {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState('')\r\n  const [mode, setMode] = useState<'login' | 'signup'>('login')\r\n  const [fullName, setFullName] = useState('')\r\n  const [showPassword, setShowPassword] = useState(false)\r\n\r\n  const router = useRouter()\r\n  const supabase = createClient()\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError('')\r\n\r\n    try {\r\n      if (mode === 'login') {\r\n        const { error } = await supabase.auth.signInWithPassword({\r\n          email,\r\n          password,\r\n        })\r\n        if (error) throw error\r\n        router.push('/')\r\n        router.refresh()\r\n      } else {\r\n        const { error } = await supabase.auth.signUp({\r\n          email,\r\n          password,\r\n          options: {\r\n            data: {\r\n              full_name: fullName,\r\n              role: 'user'\r\n            }\r\n          }\r\n        })\r\n        if (error) throw error\r\n        setError('Controlla la tua email per confermare la registrazione')\r\n        setMode('login')\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.message || 'Si è verificato un errore')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col relative overflow-hidden bg-[#0a1628]\">\r\n      {/* Background with wave pattern */}\r\n      <div className=\"absolute inset-0\">\r\n        <div className=\"absolute inset-0 bg-gradient-to-b from-[#0a1628] via-[#0d2847] to-[#0a1628]\" />\r\n        {/* Wave decorations */}\r\n        <svg className=\"absolute bottom-0 left-0 right-0 opacity-10\" viewBox=\"0 0 1440 320\" preserveAspectRatio=\"none\">\r\n          <path fill=\"#38bdf8\" d=\"M0,192L48,176C96,160,192,128,288,128C384,128,480,160,576,186.7C672,213,768,235,864,213.3C960,192,1056,128,1152,112C1248,96,1344,128,1392,144L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z\" />\r\n        </svg>\r\n        <svg className=\"absolute top-0 left-0 right-0 opacity-5 rotate-180\" viewBox=\"0 0 1440 320\" preserveAspectRatio=\"none\">\r\n          <path fill=\"#38bdf8\" d=\"M0,64L48,80C96,96,192,128,288,128C384,128,480,96,576,90.7C672,85,768,107,864,128C960,149,1056,171,1152,165.3C1248,160,1344,128,1392,112L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z\" />\r\n        </svg>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 flex flex-col items-center justify-center px-5 py-8 relative z-10\">\r\n        {/* Logo and brand */}\r\n        <div className=\"mb-8 text-center\">\r\n          <div className=\"w-20 h-20 mx-auto mb-4\">\r\n            <Image\r\n              src=\"/logo.svg\"\r\n              alt=\"BP Cleaning\"\r\n              width={80}\r\n              height={80}\r\n              className=\"drop-shadow-lg\"\r\n            />\r\n          </div>\r\n          <h1 className=\"text-3xl font-bold text-white mb-1\" style={{ fontFamily: 'Georgia, serif', fontStyle: 'italic' }}>\r\n            BP Cleaning srl\r\n          </h1>\r\n          <p className=\"text-sky-300 text-sm font-medium tracking-wide\">Multiservice</p>\r\n        </div>\r\n\r\n        {/* Login Card */}\r\n        <div className=\"w-full max-w-sm\">\r\n          <div className=\"bg-white rounded-3xl shadow-2xl p-8\">\r\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-6 text-center\" style={{ fontFamily: 'Georgia, serif', fontStyle: 'italic' }}>\r\n              {mode === 'login' ? 'Bentornato!' : 'Crea Account'}\r\n            </h2>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              {mode === 'signup' && (\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute left-4 top-1/2 -translate-y-1/2 text-sky-500\">\r\n                    <User className=\"w-5 h-5\" />\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={fullName}\r\n                    onChange={(e) => setFullName(e.target.value)}\r\n                    className=\"w-full pl-12 pr-4 py-3.5 rounded-xl border-2 border-sky-200 focus:border-sky-500 focus:outline-none transition-colors text-gray-700 placeholder-gray-400\"\r\n                    placeholder=\"Nome completo\"\r\n                    required\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"relative\">\r\n                <div className=\"absolute left-4 top-1/2 -translate-y-1/2 text-sky-500\">\r\n                  <Mail className=\"w-5 h-5\" />\r\n                </div>\r\n                <input\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"w-full pl-12 pr-4 py-3.5 rounded-xl border-2 border-sky-200 focus:border-sky-500 focus:outline-none transition-colors text-gray-700 placeholder-gray-400\"\r\n                  placeholder=\"Email\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"relative\">\r\n                <div className=\"absolute left-4 top-1/2 -translate-y-1/2 text-sky-500\">\r\n                  <Lock className=\"w-5 h-5\" />\r\n                </div>\r\n                <input\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"w-full pl-12 pr-12 py-3.5 rounded-xl border-2 border-sky-200 focus:border-sky-500 focus:outline-none transition-colors text-gray-700 placeholder-gray-400\"\r\n                  placeholder=\"Password\"\r\n                  required\r\n                  minLength={6}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-sky-400 hover:text-sky-600 transition-colors\"\r\n                >\r\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                </button>\r\n              </div>\r\n\r\n              {error && (\r\n                <div className={`text-sm p-3 rounded-xl ${\r\n                  error.includes('email') || error.includes('Controlla')\r\n                    ? 'bg-sky-50 text-sky-700 border border-sky-200'\r\n                    : 'bg-red-50 text-red-700 border border-red-200'\r\n                }`}>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"w-full py-3.5 bg-gradient-to-r from-sky-500 to-sky-600 text-white font-semibold rounded-full shadow-lg shadow-sky-500/30 hover:shadow-xl hover:shadow-sky-500/40 hover:from-sky-600 hover:to-sky-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n              >\r\n                {loading ? (\r\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                ) : mode === 'login' ? (\r\n                  'Accedi'\r\n                ) : (\r\n                  'Registrati'\r\n                )}\r\n              </button>\r\n            </form>\r\n\r\n            <div className=\"mt-6 text-center\">\r\n              <span className=\"text-gray-500 text-sm\">\r\n                {mode === 'login' ? 'Non hai un account? ' : 'Hai già un account? '}\r\n              </span>\r\n              <button\r\n                onClick={() => {\r\n                  setMode(mode === 'login' ? 'signup' : 'login')\r\n                  setError('')\r\n                }}\r\n                className=\"text-sm text-sky-600 hover:text-sky-700 font-semibold transition-colors\"\r\n              >\r\n                {mode === 'login' ? 'Registrati' : 'Accedi'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer with reflection effect */}\r\n          <div className=\"mt-8 text-center\">\r\n            <p className=\"text-sky-300/60 text-xs\">\r\n              © {new Date().getFullYear()} BP Cleaning srl Multiservice\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}