{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/AI_Projects/bp-cleaning-app/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('it-IT', {\n    style: 'currency',\n    currency: 'EUR'\n  }).format(amount)\n}\n\nexport function formatDate(date: string | Date): string {\n  return new Intl.DateTimeFormat('it-IT', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric'\n  }).format(new Date(date))\n}\n\nexport function formatDateTime(date: string | Date): string {\n  return new Intl.DateTimeFormat('it-IT', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  }).format(new Date(date))\n}\n\nexport function formatNumber(num: number, decimals = 2): string {\n  return new Intl.NumberFormat('it-IT', {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: decimals\n  }).format(num)\n}\n\nexport function generateBarcode(): string {\n  // Generate a random EAN-13 compatible barcode starting with 200 (in-store use)\n  const prefix = '200'\n  const random = Math.floor(Math.random() * 1000000000).toString().padStart(9, '0')\n  const base = prefix + random\n  \n  // Calculate check digit\n  let sum = 0\n  for (let i = 0; i < 12; i++) {\n    sum += parseInt(base[i]) * (i % 2 === 0 ? 1 : 3)\n  }\n  const checkDigit = (10 - (sum % 10)) % 10\n  \n  return base + checkDigit\n}\n\nexport function getStockStatusColor(current: number, min: number): string {\n  const ratio = current / min\n  if (ratio <= 1) return 'text-red-500'\n  if (ratio <= 1.5) return 'text-amber-500'\n  return 'text-emerald-500'\n}\n\nexport function getStockStatusBg(current: number, min: number): string {\n  const ratio = current / min\n  if (ratio <= 1) return 'bg-red-50 border-red-200'\n  if (ratio <= 1.5) return 'bg-amber-50 border-amber-200'\n  return 'bg-emerald-50 border-emerald-200'\n}\n\nexport function getStockStatusLabel(current: number, min: number): string {\n  const ratio = current / min\n  if (ratio <= 1) return 'Riordino'\n  if (ratio <= 1.5) return 'Basso'\n  return 'OK'\n}\n\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout | null = null\n  \n  return (...args: Parameters<T>) => {\n    if (timeout) clearTimeout(timeout)\n    timeout = setTimeout(() => func(...args), wait)\n  }\n}\n\nexport function truncate(str: string, length: number): string {\n  if (str.length <= length) return str\n  return str.slice(0, length) + '...'\n}\n\n// SKU prefix mapping for each category\nexport const SKU_PREFIXES: Record<string, string> = {\n  detergente: 'DET',\n  sgrassatore: 'SGR',\n  disinfettante: 'DIS',\n  lucidante: 'LUC',\n  deodorante: 'DEO',\n  accessorio: 'ACC',\n  attrezzatura: 'ATT',\n  altro: 'ALT'\n}\n\n// Generate next SKU for a category (needs current max number from DB)\nexport function generateSKU(category: string, nextNumber: number): string {\n  const prefix = SKU_PREFIXES[category] || 'ALT'\n  return `${prefix}-${nextNumber.toString().padStart(3, '0')}`\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAEO,SAAS,eAAe,MAAc;IAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;IACZ,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,WAAW,IAAmB;IAC5C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,KAAK;QACL,OAAO;QACP,MAAM;IACR,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAEO,SAAS,eAAe,IAAmB;IAChD,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,KAAK;QACL,OAAO;QACP,MAAM;QACN,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAEO,SAAS,aAAa,GAAW,EAAE,WAAW,CAAC;IACpD,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS;IACd,+EAA+E;IAC/E,MAAM,SAAS;IACf,MAAM,SAAS,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,YAAY,QAAQ,GAAG,QAAQ,CAAC,GAAG;IAC7E,MAAM,OAAO,SAAS;IAEtB,wBAAwB;IACxB,IAAI,MAAM;IACV,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,IAAK;QAC3B,OAAO,SAAS,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI,MAAM,IAAI,IAAI,CAAC;IACjD;IACA,MAAM,aAAa,CAAC,KAAM,MAAM,EAAG,IAAI;IAEvC,OAAO,OAAO;AAChB;AAEO,SAAS,oBAAoB,OAAe,EAAE,GAAW;IAC9D,MAAM,QAAQ,UAAU;IACxB,IAAI,SAAS,GAAG,OAAO;IACvB,IAAI,SAAS,KAAK,OAAO;IACzB,OAAO;AACT;AAEO,SAAS,iBAAiB,OAAe,EAAE,GAAW;IAC3D,MAAM,QAAQ,UAAU;IACxB,IAAI,SAAS,GAAG,OAAO;IACvB,IAAI,SAAS,KAAK,OAAO;IACzB,OAAO;AACT;AAEO,SAAS,oBAAoB,OAAe,EAAE,GAAW;IAC9D,MAAM,QAAQ,UAAU;IACxB,IAAI,SAAS,GAAG,OAAO;IACvB,IAAI,SAAS,KAAK,OAAO;IACzB,OAAO;AACT;AAEO,SAAS,SACd,IAAO,EACP,IAAY;IAEZ,IAAI,UAAiC;IAErC,OAAO,CAAC,GAAG;QACT,IAAI,SAAS,aAAa;QAC1B,UAAU,WAAW,IAAM,QAAQ,OAAO;IAC5C;AACF;AAEO,SAAS,SAAS,GAAW,EAAE,MAAc;IAClD,IAAI,IAAI,MAAM,IAAI,QAAQ,OAAO;IACjC,OAAO,IAAI,KAAK,CAAC,GAAG,UAAU;AAChC;AAGO,MAAM,eAAuC;IAClD,YAAY;IACZ,aAAa;IACb,eAAe;IACf,WAAW;IACX,YAAY;IACZ,YAAY;IACZ,cAAc;IACd,OAAO;AACT;AAGO,SAAS,YAAY,QAAgB,EAAE,UAAkB;IAC9D,MAAM,SAAS,YAAY,CAAC,SAAS,IAAI;IACzC,OAAO,GAAG,OAAO,CAAC,EAAE,WAAW,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AAC9D"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/AI_Projects/bp-cleaning-app/src/components/navigation/bottom-nav.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport { Home, Package, ClipboardList, Settings } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\nconst navItems = [\n  { href: '/', icon: Home, label: 'Home' },\n  { href: '/prodotti', icon: Package, label: 'Prodotti' },\n  { href: '/movimenti', icon: ClipboardList, label: 'Movimenti' },\n  { href: '/impostazioni', icon: Settings, label: 'Altro' },\n]\n\nexport function BottomNav() {\n  const pathname = usePathname()\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 px-2 py-2 safe-bottom z-40\">\n      <div className=\"flex items-center justify-around max-w-lg mx-auto\">\n        {navItems.map((item) => {\n          const isActive = pathname === item.href || \n            (item.href !== '/' && pathname.startsWith(item.href))\n          \n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={cn(\n                'nav-item min-w-[64px]',\n                isActive ? 'flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-200 text-blue-600' : 'flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-200 text-gray-400 hover:text-gray-600'\n              )}\n            >\n              <item.icon \n                className={cn(\n                  'w-6 h-6 transition-all',\n                  isActive && 'scale-110'\n                )} \n                strokeWidth={isActive ? 2.5 : 2}\n              />\n              <span className={cn(\n                'text-xs font-medium',\n                isActive ? 'text-blue-600' : 'text-gray-400'\n              )}>\n                {item.label}\n              </span>\n            </Link>\n          )\n        })}\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AALA;;;;;AAOA,MAAM,WAAW;IACf;QAAE,MAAM;QAAK,MAAM,8MAAI;QAAE,OAAO;IAAO;IACvC;QAAE,MAAM;QAAa,MAAM,sNAAO;QAAE,OAAO;IAAW;IACtD;QAAE,MAAM;QAAc,MAAM,4OAAa;QAAE,OAAO;IAAY;IAC9D;QAAE,MAAM;QAAiB,MAAM,yNAAQ;QAAE,OAAO;IAAQ;CACzD;AAEM,SAAS;;IACd,MAAM,WAAW,IAAA,oJAAW;IAE5B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,WAAW,aAAa,KAAK,IAAI,IACpC,KAAK,IAAI,KAAK,OAAO,SAAS,UAAU,CAAC,KAAK,IAAI;gBAErD,qBACE,6LAAC,0KAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,IAAA,4HAAE,EACX,yBACA,WAAW,8FAA8F;;sCAG3G,6LAAC,KAAK,IAAI;4BACR,WAAW,IAAA,4HAAE,EACX,0BACA,YAAY;4BAEd,aAAa,WAAW,MAAM;;;;;;sCAEhC,6LAAC;4BAAK,WAAW,IAAA,4HAAE,EACjB,uBACA,WAAW,kBAAkB;sCAE5B,KAAK,KAAK;;;;;;;mBAlBR,KAAK,IAAI;;;;;YAsBpB;;;;;;;;;;;AAIR;GAtCgB;;QACG,oJAAW;;;KADd"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///C:/AI_Projects/bp-cleaning-app/src/components/dashboard/admin-dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useAuth } from '@/components/providers/auth-provider'\nimport { createClient } from '@/lib/supabase/client'\nimport { formatCurrency, formatNumber } from '@/lib/utils'\nimport { BottomNav } from '@/components/navigation/bottom-nav'\nimport Image from 'next/image'\nimport {\n  Package,\n  Building2,\n  ArrowDownToLine,\n  ArrowUpFromLine,\n  ChevronRight,\n  AlertTriangle,\n  Activity,\n  Euro,\n  Boxes,\n  Clock,\n  Zap,\n  BarChart3\n} from 'lucide-react'\nimport Link from 'next/link'\n\ninterface DashboardStats {\n  totalProducts: number\n  totalStockValue: number\n  lowStockCount: number\n  activeWorksites: number\n  todayMovements: number\n  monthlySpend: number\n  recentMovements: RecentMovement[]\n}\n\ninterface LowStockItem {\n  id: string\n  name: string\n  current_stock: number\n  min_stock: number\n  unit: string\n}\n\ninterface RecentMovement {\n  id: string\n  type: 'carico' | 'scarico'\n  product_name: string\n  quantity: number\n  worksite_name?: string\n  created_at: string\n}\n\nexport function AdminDashboard() {\n  const { profile, isSuperuser } = useAuth()\n  const [stats, setStats] = useState<DashboardStats | null>(null)\n  const [lowStock, setLowStock] = useState<LowStockItem[]>([])\n  const [loading, setLoading] = useState(true)\n  const supabase = createClient()\n\n  useEffect(() => {\n    fetchDashboardData()\n  }, [])\n\n  const fetchDashboardData = async () => {\n    try {\n      // Fetch products stats\n      const { data: products } = await supabase\n        .from('products')\n        .select('current_stock, unit_cost, min_stock, name, unit, id')\n        .eq('is_active', true)\n\n      // Fetch active worksites\n      const { count: worksitesCount } = await supabase\n        .from('worksites')\n        .select('*', { count: 'exact', head: true })\n        .eq('status', 'active')\n\n      // Fetch today's movements\n      const today = new Date()\n      today.setHours(0, 0, 0, 0)\n      const { count: movementsCount } = await supabase\n        .from('movements')\n        .select('*', { count: 'exact', head: true })\n        .gte('created_at', today.toISOString())\n\n      // Fetch monthly spend (scarichi only)\n      const monthStart = new Date()\n      monthStart.setDate(1)\n      monthStart.setHours(0, 0, 0, 0)\n      const { data: monthlyMovements } = await supabase\n        .from('movements')\n        .select('total_cost')\n        .eq('type', 'scarico')\n        .gte('created_at', monthStart.toISOString())\n\n      // Fetch recent movements with product and worksite names\n      const { data: recentMov } = await supabase\n        .from('movements')\n        .select(`\n          id, type, quantity, created_at,\n          products(name),\n          worksites(name)\n        `)\n        .order('created_at', { ascending: false })\n        .limit(5)\n\n      const totalStockValue = products?.reduce(\n        (sum: number, p: any) => sum + (p.current_stock * p.unit_cost), 0\n      ) || 0\n\n      const lowStockItems = products?.filter(\n        (p: any) => p.current_stock <= p.min_stock\n      ) || []\n\n      const monthlySpend = monthlyMovements?.reduce(\n        (sum: number, m: any) => sum + (m.total_cost || 0), 0\n      ) || 0\n\n      const recentMovements: RecentMovement[] = (recentMov || []).map((m: any) => ({\n        id: m.id,\n        type: m.type,\n        product_name: m.products?.name || 'Prodotto',\n        quantity: m.quantity,\n        worksite_name: m.worksites?.name,\n        created_at: m.created_at\n      }))\n\n      setStats({\n        totalProducts: products?.length || 0,\n        totalStockValue,\n        lowStockCount: lowStockItems.length,\n        activeWorksites: worksitesCount || 0,\n        todayMovements: movementsCount || 0,\n        monthlySpend,\n        recentMovements\n      })\n\n      setLowStock(lowStockItems.slice(0, 3).map((p: any) => ({\n        id: p.id,\n        name: p.name,\n        current_stock: p.current_stock,\n        min_stock: p.min_stock,\n        unit: p.unit\n      })))\n\n    } catch (error) {\n      console.error('Error fetching dashboard:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const greeting = () => {\n    const hour = new Date().getHours()\n    if (hour < 12) return 'Buongiorno'\n    if (hour < 18) return 'Buon pomeriggio'\n    return 'Buonasera'\n  }\n\n  const formatTimeAgo = (dateStr: string) => {\n    const date = new Date(dateStr)\n    const now = new Date()\n    const diffMs = now.getTime() - date.getTime()\n    const diffMins = Math.floor(diffMs / 60000)\n    const diffHours = Math.floor(diffMins / 60)\n    const diffDays = Math.floor(diffHours / 24)\n\n    if (diffMins < 1) return 'ora'\n    if (diffMins < 60) return `${diffMins}min fa`\n    if (diffHours < 24) return `${diffHours}h fa`\n    return `${diffDays}g fa`\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 to-cyan-50\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <Image src=\"/logo.svg\" alt=\"BP Cleaning\" width={64} height={64} className=\"animate-pulse-soft\" />\n          <div className=\"w-8 h-1 bg-sky-200 rounded-full overflow-hidden\">\n            <div className=\"h-full bg-sky-500 rounded-full animate-pulse\" style={{ width: '50%' }} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 pb-24\">\n      {/* Header */}\n      <header className=\"relative overflow-hidden\">\n        <div className=\"absolute inset-0 gradient-water\" />\n        <div className=\"absolute inset-0 opacity-10\" style={{\n          backgroundImage: 'url(/logo.svg)',\n          backgroundRepeat: 'no-repeat',\n          backgroundPosition: 'right -20px top -20px',\n          backgroundSize: '180px'\n        }} />\n\n        <div className=\"relative px-5 pt-14 pb-8\">\n          {/* Logo e Titolo */}\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-lg\">\n              <Image src=\"/logo.svg\" alt=\"BP Cleaning\" width={32} height={32} />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-white\">BP Cleaning</h1>\n              <p className=\"text-sky-100 text-sm\">Gestione Magazzino</p>\n            </div>\n            {isSuperuser && (\n              <span className=\"ml-auto px-3 py-1 rounded-full text-xs font-semibold bg-white/20 text-white backdrop-blur-sm\">\n                Admin\n              </span>\n            )}\n          </div>\n\n          {/* Saluto */}\n          <div className=\"mb-6\">\n            <p className=\"text-sky-100 text-sm\">\n              {greeting()},\n            </p>\n            <p className=\"text-white text-2xl font-bold\">\n              {profile?.full_name?.split(' ')[0] || 'Utente'}\n            </p>\n          </div>\n\n          {/* Quick Stats in header */}\n          <div className=\"grid grid-cols-2 gap-3\">\n            <div className=\"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <Euro className=\"w-4 h-4 text-sky-200\" />\n                <span className=\"text-sky-200 text-xs font-medium\">Valore Stock</span>\n              </div>\n              <p className=\"text-white text-2xl font-bold number-animate\">\n                {formatCurrency(stats?.totalStockValue || 0)}\n              </p>\n            </div>\n            <div className=\"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <Activity className=\"w-4 h-4 text-sky-200\" />\n                <span className=\"text-sky-200 text-xs font-medium\">Spesa Mese</span>\n              </div>\n              <p className=\"text-white text-2xl font-bold number-animate\">\n                {formatCurrency(stats?.monthlySpend || 0)}\n              </p>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Stats Cards */}\n      <div className=\"px-5 -mt-2\">\n        <div className=\"grid grid-cols-4 gap-2\">\n          <div className=\"stat-card text-center animate-slide-up\" style={{ animationDelay: '0.05s' }}>\n            <Boxes className=\"w-5 h-5 text-sky-500 mx-auto mb-1\" />\n            <p className=\"text-xl font-bold text-gray-900\">{stats?.totalProducts || 0}</p>\n            <p className=\"text-xs text-gray-500\">Prodotti</p>\n          </div>\n          <div className=\"stat-card text-center animate-slide-up\" style={{ animationDelay: '0.1s' }}>\n            <Building2 className=\"w-5 h-5 text-violet-500 mx-auto mb-1\" />\n            <p className=\"text-xl font-bold text-gray-900\">{stats?.activeWorksites || 0}</p>\n            <p className=\"text-xs text-gray-500\">Cantieri</p>\n          </div>\n          <div className=\"stat-card text-center animate-slide-up\" style={{ animationDelay: '0.15s' }}>\n            <Clock className=\"w-5 h-5 text-emerald-500 mx-auto mb-1\" />\n            <p className=\"text-xl font-bold text-gray-900\">{stats?.todayMovements || 0}</p>\n            <p className=\"text-xs text-gray-500\">Oggi</p>\n          </div>\n          <div className=\"stat-card text-center animate-slide-up\" style={{ animationDelay: '0.2s' }}>\n            <AlertTriangle className={`w-5 h-5 mx-auto mb-1 ${(stats?.lowStockCount || 0) > 0 ? 'text-red-500' : 'text-gray-300'}`} />\n            <p className={`text-xl font-bold ${(stats?.lowStockCount || 0) > 0 ? 'text-red-500' : 'text-gray-900'}`}>\n              {stats?.lowStockCount || 0}\n            </p>\n            <p className=\"text-xs text-gray-500\">Riordino</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"px-5 mt-6\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h2 className=\"text-sm font-semibold text-gray-900\">Azioni Rapide</h2>\n          <Zap className=\"w-4 h-4 text-amber-500\" />\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-3\">\n          <Link\n            href=\"/movimenti/carico\"\n            className=\"action-card flex-col items-start animate-slide-up\"\n            style={{ animationDelay: '0.25s' }}\n          >\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center shadow-lg shadow-emerald-500/20\">\n              <ArrowDownToLine className=\"w-5 h-5 text-white\" />\n            </div>\n            <div className=\"mt-3\">\n              <h3 className=\"font-semibold text-gray-900\">Carico</h3>\n              <p className=\"text-xs text-gray-500\">Arrivo merce</p>\n            </div>\n          </Link>\n\n          <Link\n            href=\"/movimenti/scarico\"\n            className=\"action-card flex-col items-start animate-slide-up\"\n            style={{ animationDelay: '0.3s' }}\n          >\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center shadow-lg shadow-orange-500/20\">\n              <ArrowUpFromLine className=\"w-5 h-5 text-white\" />\n            </div>\n            <div className=\"mt-3\">\n              <h3 className=\"font-semibold text-gray-900\">Scarico</h3>\n              <p className=\"text-xs text-gray-500\">Per cantiere</p>\n            </div>\n          </Link>\n\n          <Link\n            href=\"/prodotti\"\n            className=\"action-card flex-col items-start animate-slide-up\"\n            style={{ animationDelay: '0.35s' }}\n          >\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-sky-400 to-sky-600 flex items-center justify-center shadow-lg shadow-sky-500/20\">\n              <Package className=\"w-5 h-5 text-white\" />\n            </div>\n            <div className=\"mt-3\">\n              <h3 className=\"font-semibold text-gray-900\">Prodotti</h3>\n              <p className=\"text-xs text-gray-500\">Inventario</p>\n            </div>\n          </Link>\n\n          <Link\n            href=\"/cantieri\"\n            className=\"action-card flex-col items-start animate-slide-up\"\n            style={{ animationDelay: '0.4s' }}\n          >\n            <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-400 to-violet-600 flex items-center justify-center shadow-lg shadow-violet-500/20\">\n              <Building2 className=\"w-5 h-5 text-white\" />\n            </div>\n            <div className=\"mt-3\">\n              <h3 className=\"font-semibold text-gray-900\">Cantieri</h3>\n              <p className=\"text-xs text-gray-500\">Gestione</p>\n            </div>\n          </Link>\n        </div>\n      </div>\n\n      {/* Low Stock Alert */}\n      {lowStock.length > 0 && (\n        <div className=\"px-5 mt-6 animate-slide-up\" style={{ animationDelay: '0.45s' }}>\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-2 h-2 rounded-full bg-red-500 animate-pulse\" />\n              <h2 className=\"text-sm font-semibold text-gray-900\">Scorte Basse</h2>\n            </div>\n            <Link href=\"/prodotti?filter=low\" className=\"text-xs text-sky-600 font-medium\">\n              Vedi tutti\n            </Link>\n          </div>\n          <div className=\"bg-white rounded-2xl border border-red-100 shadow-sm overflow-hidden\">\n            {lowStock.map((item, index) => (\n              <Link\n                key={item.id}\n                href={`/prodotti/${item.id}`}\n                className={`flex items-center gap-3 p-3 hover:bg-red-50 transition-colors ${\n                  index !== lowStock.length - 1 ? 'border-b border-gray-100' : ''\n                }`}\n              >\n                <div className=\"w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0\">\n                  <AlertTriangle className=\"w-4 h-4 text-red-500\" />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"font-medium text-gray-900 text-sm truncate\">{item.name}</p>\n                  <p className=\"text-xs text-gray-500\">\n                    {formatNumber(item.current_stock)} / {formatNumber(item.min_stock)} {item.unit}\n                  </p>\n                </div>\n                <ChevronRight className=\"w-4 h-4 text-gray-300\" />\n              </Link>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Recent Activity */}\n      {stats?.recentMovements && stats.recentMovements.length > 0 && (\n        <div className=\"px-5 mt-6 mb-6 animate-slide-up\" style={{ animationDelay: '0.5s' }}>\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-sm font-semibold text-gray-900\">Attività Recente</h2>\n            <Link href=\"/movimenti\" className=\"text-xs text-sky-600 font-medium\">\n              Storico\n            </Link>\n          </div>\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n            {stats.recentMovements.map((mov, index) => (\n              <div\n                key={mov.id}\n                className={`flex items-center gap-3 p-3 ${\n                  index !== stats.recentMovements.length - 1 ? 'border-b border-gray-100' : ''\n                }`}\n              >\n                <div className={`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${\n                  mov.type === 'carico' ? 'bg-emerald-100' : 'bg-orange-100'\n                }`}>\n                  {mov.type === 'carico' ? (\n                    <ArrowDownToLine className=\"w-4 h-4 text-emerald-600\" />\n                  ) : (\n                    <ArrowUpFromLine className=\"w-4 h-4 text-orange-600\" />\n                  )}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"font-medium text-gray-900 text-sm truncate\">{mov.product_name}</p>\n                  <p className=\"text-xs text-gray-500\">\n                    {mov.type === 'carico' ? '+' : '-'}{mov.quantity} {mov.worksite_name && `• ${mov.worksite_name}`}\n                  </p>\n                </div>\n                <span className=\"text-xs text-gray-400\">{formatTimeAgo(mov.created_at)}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Admin-only: Reports link */}\n      {isSuperuser && (\n        <div className=\"px-5 mb-6 animate-slide-up\" style={{ animationDelay: '0.55s' }}>\n          <Link\n            href=\"/report\"\n            className=\"flex items-center gap-4 p-4 bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl shadow-lg\"\n          >\n            <div className=\"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center\">\n              <BarChart3 className=\"w-5 h-5 text-white\" />\n            </div>\n            <div className=\"flex-1\">\n              <h3 className=\"font-semibold text-white\">Report & Analytics</h3>\n              <p className=\"text-sm text-gray-400\">Esporta dati in Excel</p>\n            </div>\n            <ChevronRight className=\"w-5 h-5 text-gray-400\" />\n          </Link>\n        </div>\n      )}\n\n      <BottomNav />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1358, "column": 0}, "map": {"version":3,"sources":["file:///C:/AI_Projects/bp-cleaning-app/src/components/dashboard/operator-dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useAuth } from '@/components/providers/auth-provider'\nimport { createClient } from '@/lib/supabase/client'\nimport { BottomNav } from '@/components/navigation/bottom-nav'\nimport Image from 'next/image'\nimport {\n  Building2,\n  ArrowUpFromLine,\n  ChevronRight,\n  Clock,\n  MapPin,\n  Phone,\n  ClipboardList\n} from 'lucide-react'\nimport Link from 'next/link'\n\ninterface Worksite {\n  id: string\n  code: string\n  name: string\n  address: string\n  city: string\n  client_name: string\n}\n\ninterface RecentMovement {\n  id: string\n  type: 'carico' | 'scarico'\n  product_name: string\n  quantity: number\n  worksite_name?: string\n  created_at: string\n}\n\nexport function OperatorDashboard() {\n  const { profile } = useAuth()\n  const [worksites, setWorksites] = useState<Worksite[]>([])\n  const [recentMovements, setRecentMovements] = useState<RecentMovement[]>([])\n  const [todayCount, setTodayCount] = useState(0)\n  const [loading, setLoading] = useState(true)\n  const supabase = createClient()\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  const fetchData = async () => {\n    try {\n      // Fetch active worksites\n      const { data: worksitesData } = await supabase\n        .from('worksites')\n        .select('id, code, name, address, city, client_name')\n        .eq('status', 'active')\n        .order('name')\n\n      // Fetch operator's recent movements\n      const { data: movementsData } = await supabase\n        .from('movements')\n        .select(`\n          id, type, quantity, created_at,\n          products(name),\n          worksites(name)\n        `)\n        .eq('operator_id', profile?.id)\n        .order('created_at', { ascending: false })\n        .limit(5)\n\n      // Count today's movements by this operator\n      const today = new Date()\n      today.setHours(0, 0, 0, 0)\n      const { count } = await supabase\n        .from('movements')\n        .select('*', { count: 'exact', head: true })\n        .eq('operator_id', profile?.id)\n        .gte('created_at', today.toISOString())\n\n      setWorksites(worksitesData || [])\n      setRecentMovements((movementsData || []).map((m: any) => ({\n        id: m.id,\n        type: m.type,\n        product_name: m.products?.name || 'Prodotto',\n        quantity: m.quantity,\n        worksite_name: m.worksites?.name,\n        created_at: m.created_at\n      })))\n      setTodayCount(count || 0)\n\n    } catch (error) {\n      console.error('Error fetching data:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const greeting = () => {\n    const hour = new Date().getHours()\n    if (hour < 12) return 'Buongiorno'\n    if (hour < 18) return 'Buon pomeriggio'\n    return 'Buonasera'\n  }\n\n  const formatTimeAgo = (dateStr: string) => {\n    const date = new Date(dateStr)\n    const now = new Date()\n    const diffMs = now.getTime() - date.getTime()\n    const diffMins = Math.floor(diffMs / 60000)\n    const diffHours = Math.floor(diffMins / 60)\n    const diffDays = Math.floor(diffHours / 24)\n\n    if (diffMins < 1) return 'ora'\n    if (diffMins < 60) return `${diffMins}min fa`\n    if (diffHours < 24) return `${diffHours}h fa`\n    return `${diffDays}g fa`\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 to-cyan-50\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <Image src=\"/logo.svg\" alt=\"BP Cleaning\" width={64} height={64} className=\"animate-pulse-soft\" />\n          <div className=\"w-8 h-1 bg-sky-200 rounded-full overflow-hidden\">\n            <div className=\"h-full bg-sky-500 rounded-full animate-pulse\" style={{ width: '50%' }} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 pb-24\">\n      {/* Header */}\n      <header className=\"relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-emerald-500 to-teal-600\" />\n        <div className=\"absolute inset-0 opacity-10\" style={{\n          backgroundImage: 'url(/logo.svg)',\n          backgroundRepeat: 'no-repeat',\n          backgroundPosition: 'right -20px top -20px',\n          backgroundSize: '180px'\n        }} />\n\n        <div className=\"relative px-5 pt-14 pb-8\">\n          {/* Logo e Titolo */}\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-lg\">\n              <Image src=\"/logo.svg\" alt=\"BP Cleaning\" width={32} height={32} />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-white\">BP Cleaning</h1>\n              <p className=\"text-emerald-100 text-sm\">Area Operatore</p>\n            </div>\n          </div>\n\n          {/* Saluto */}\n          <div className=\"mb-4\">\n            <p className=\"text-emerald-100 text-sm\">{greeting()},</p>\n            <p className=\"text-white text-2xl font-bold\">\n              {profile?.full_name?.split(' ')[0] || 'Operatore'}\n            </p>\n          </div>\n\n          {/* Stats */}\n          <div className=\"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-emerald-100 text-xs font-medium\">Movimenti Oggi</p>\n                <p className=\"text-white text-3xl font-bold\">{todayCount}</p>\n              </div>\n              <div className=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center\">\n                <Clock className=\"w-6 h-6 text-white\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Quick Action - Scarico */}\n      <div className=\"px-5 -mt-4\">\n        <Link\n          href=\"/movimenti/scarico\"\n          className=\"flex items-center gap-4 p-5 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl shadow-lg shadow-orange-500/30 animate-slide-up\"\n        >\n          <div className=\"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center\">\n            <ArrowUpFromLine className=\"w-7 h-7 text-white\" />\n          </div>\n          <div className=\"flex-1\">\n            <h3 className=\"font-bold text-white text-lg\">Scarico Merce</h3>\n            <p className=\"text-orange-100 text-sm\">Consegna prodotti al cantiere</p>\n          </div>\n          <ChevronRight className=\"w-6 h-6 text-white/70\" />\n        </Link>\n      </div>\n\n      {/* Cantieri Attivi */}\n      <div className=\"px-5 mt-6\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h2 className=\"text-sm font-semibold text-gray-900\">Cantieri Attivi</h2>\n          <span className=\"text-xs text-gray-500\">{worksites.length} cantieri</span>\n        </div>\n\n        <div className=\"space-y-3\">\n          {worksites.slice(0, 4).map((ws, index) => (\n            <Link\n              key={ws.id}\n              href={`/movimenti/scarico?cantiere=${ws.code}`}\n              className=\"flex items-center gap-3 p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all animate-slide-up\"\n              style={{ animationDelay: `${0.1 + index * 0.05}s` }}\n            >\n              <div className=\"w-10 h-10 bg-violet-100 rounded-xl flex items-center justify-center flex-shrink-0\">\n                <Building2 className=\"w-5 h-5 text-violet-600\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"font-semibold text-gray-900 truncate\">{ws.name}</p>\n                <div className=\"flex items-center gap-1 text-xs text-gray-500\">\n                  <MapPin className=\"w-3 h-3\" />\n                  <span className=\"truncate\">{ws.city}</span>\n                </div>\n              </div>\n              <span className=\"text-xs font-medium text-gray-400 bg-gray-100 px-2 py-1 rounded-lg\">\n                {ws.code}\n              </span>\n            </Link>\n          ))}\n\n          {worksites.length > 4 && (\n            <Link\n              href=\"/cantieri\"\n              className=\"flex items-center justify-center gap-2 p-3 text-sm text-sky-600 font-medium hover:bg-sky-50 rounded-xl transition-colors\"\n            >\n              Vedi tutti i cantieri\n              <ChevronRight className=\"w-4 h-4\" />\n            </Link>\n          )}\n        </div>\n      </div>\n\n      {/* I Miei Movimenti Recenti */}\n      {recentMovements.length > 0 && (\n        <div className=\"px-5 mt-6 mb-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-sm font-semibold text-gray-900\">I Miei Movimenti</h2>\n            <Link href=\"/movimenti\" className=\"text-xs text-sky-600 font-medium\">\n              Storico\n            </Link>\n          </div>\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n            {recentMovements.map((mov, index) => (\n              <div\n                key={mov.id}\n                className={`flex items-center gap-3 p-3 ${\n                  index !== recentMovements.length - 1 ? 'border-b border-gray-100' : ''\n                }`}\n              >\n                <div className={`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${\n                  mov.type === 'carico' ? 'bg-emerald-100' : 'bg-orange-100'\n                }`}>\n                  <ArrowUpFromLine className={`w-4 h-4 ${\n                    mov.type === 'carico' ? 'text-emerald-600 rotate-180' : 'text-orange-600'\n                  }`} />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"font-medium text-gray-900 text-sm truncate\">{mov.product_name}</p>\n                  <p className=\"text-xs text-gray-500\">\n                    {mov.type === 'scarico' ? '-' : '+'}{mov.quantity} {mov.worksite_name && `• ${mov.worksite_name}`}\n                  </p>\n                </div>\n                <span className=\"text-xs text-gray-400\">{formatTimeAgo(mov.created_at)}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Empty state se non ci sono movimenti */}\n      {recentMovements.length === 0 && (\n        <div className=\"px-5 mt-6 mb-6\">\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-8 text-center\">\n            <ClipboardList className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\n            <p className=\"text-gray-500 font-medium\">Nessun movimento recente</p>\n            <p className=\"text-gray-400 text-sm mt-1\">Inizia a scaricare prodotti ai cantieri</p>\n          </div>\n        </div>\n      )}\n\n      <BottomNav />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2042, "column": 0}, "map": {"version":3,"sources":["file:///C:/AI_Projects/bp-cleaning-app/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useAuth } from '@/components/providers/auth-provider'\nimport { AdminDashboard } from '@/components/dashboard/admin-dashboard'\nimport { OperatorDashboard } from '@/components/dashboard/operator-dashboard'\nimport Image from 'next/image'\n\nexport default function HomePage() {\n  const { isSuperuser, loading } = useAuth()\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 to-cyan-50\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"relative\">\n            <Image src=\"/logo.svg\" alt=\"BP Cleaning\" width={64} height={64} className=\"animate-pulse-soft\" />\n          </div>\n          <div className=\"w-8 h-1 bg-sky-200 rounded-full overflow-hidden\">\n            <div className=\"h-full bg-sky-500 rounded-full animate-pulse\" style={{ width: '50%' }} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Mostra dashboard admin per superuser, altrimenti dashboard operatore\n  return isSuperuser ? <AdminDashboard /> : <OperatorDashboard />\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,IAAA,iKAAO;IAExC,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,2IAAK;4BAAC,KAAI;4BAAY,KAAI;4BAAc,OAAO;4BAAI,QAAQ;4BAAI,WAAU;;;;;;;;;;;kCAE5E,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;4BAA+C,OAAO;gCAAE,OAAO;4BAAM;;;;;;;;;;;;;;;;;;;;;;IAK9F;IAEA,uEAAuE;IACvE,OAAO,4BAAc,6LAAC,0KAAc;;;;6BAAM,6LAAC,gLAAiB;;;;;AAC9D;GApBwB;;QACW,iKAAO;;;KADlB"}}]
}