{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../node_modules/lucide-react/src/icons/save.ts","../../../../node_modules/lucide-react/src/icons/shield-alert.ts","../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../src/lib/types.ts","../../../../node_modules/lucide-react/src/icons/trash-2.ts","../../../../src/app/%28app%29/prodotti/%5Bid%5D/modifica/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n  ['path', { d: 'M12 8v4', key: '1got3b' }],\n  ['path', { d: 'M12 16h.01', key: '1drbdi' }],\n];\n\n/**\n * @component @name ShieldAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+CiAgPHBhdGggZD0iTTEyIDh2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTZoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/shield-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShieldAlert = createLucideIcon('shield-alert', __iconNode);\n\nexport default ShieldAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('loader-circle', __iconNode);\n\nexport default LoaderCircle;\n","export type UserRole = 'user' | 'superuser' | 'manager'\n\nexport interface Profile {\n  id: string\n  email: string\n  full_name: string\n  role: UserRole\n  avatar_url?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface Supplier {\n  id: string\n  code: string\n  name: string\n  contact_name?: string\n  email?: string\n  phone?: string\n  address?: string\n  notes?: string\n  is_active: boolean\n  created_at: string\n  updated_at: string\n}\n\nexport type ProductCategory = \n  | 'detergente' \n  | 'sgrassatore' \n  | 'disinfettante' \n  | 'lucidante'\n  | 'deodorante' \n  | 'accessorio' \n  | 'attrezzatura' \n  | 'altro'\n\nexport type ProductUnit = 'litri' | 'pezzi' | 'kg' | 'ml' | 'rotoli' | 'confezioni'\n\nexport interface Product {\n  id: string\n  sku?: string\n  barcode?: string\n  name: string\n  category: ProductCategory\n  unit: ProductUnit\n  quantity_per_package: number\n  unit_cost: number\n  current_stock: number\n  min_stock: number\n  supplier_id?: string\n  supplier?: Supplier\n  image_url?: string\n  notes?: string\n  is_active: boolean\n  created_at: string\n  updated_at: string\n}\n\nexport type WorksiteStatus = 'active' | 'paused' | 'completed'\n\nexport interface Worksite {\n  id: string\n  code: string\n  name: string\n  address: string\n  city: string\n  cap?: string\n  provincia?: string\n  codice_fiscale?: string\n  partita_iva?: string\n  client_name?: string\n  client_contact?: string\n  client_phone?: string\n  client_email?: string\n  budget_allocated: number\n  start_date?: string\n  end_date?: string\n  status: WorksiteStatus\n  notes?: string\n  created_at: string\n}\n\nexport type MovementType = 'carico' | 'scarico'\n\nexport interface Movement {\n  id: string\n  type: MovementType\n  product_id: string\n  product?: Product\n  worksite_id?: string\n  worksite?: Worksite\n  quantity: number\n  unit_cost_at_time: number\n  total_cost: number\n  operator_id: string\n  operator?: Profile\n  notes?: string\n  created_at: string\n}\n\n// View types\nexport interface LowStockProduct {\n  id: string\n  barcode?: string\n  name: string\n  category: ProductCategory\n  current_stock: number\n  min_stock: number\n  unit: ProductUnit\n  unit_cost: number\n  stock_value: number\n  supplier_name?: string\n}\n\nexport interface WorksiteCost {\n  worksite_id: string\n  worksite_code: string\n  worksite_name: string\n  address: string\n  city: string\n  budget_allocated: number\n  total_spent: number\n  remaining_budget: number\n  unique_products: number\n  total_movements: number\n}\n\nexport interface StockSummary {\n  id: string\n  barcode?: string\n  name: string\n  category: ProductCategory\n  unit: ProductUnit\n  current_stock: number\n  min_stock: number\n  unit_cost: number\n  stock_value: number\n  stock_status: 'riordino' | 'basso' | 'ok'\n  supplier_name?: string\n}\n\n// Form types\nexport interface ProductFormData {\n  barcode?: string\n  name: string\n  category: ProductCategory\n  unit: ProductUnit\n  quantity_per_package: number\n  unit_cost: number\n  current_stock: number\n  min_stock: number\n  supplier_id?: string\n  notes?: string\n}\n\nexport interface WorksiteFormData {\n  code: string\n  name: string\n  address: string\n  city: string\n  client_name?: string\n  client_contact?: string\n  budget_allocated: number\n  status: WorksiteStatus\n  notes?: string\n}\n\nexport interface MovementFormData {\n  type: MovementType\n  product_id: string\n  worksite_id?: string\n  quantity: number\n  notes?: string\n}\n\nexport interface UserWorksite {\n  id: string\n  user_id: string\n  worksite_id: string\n  created_at: string\n  worksite?: Worksite\n  user?: Profile\n}\n\n// Category labels for UI\nexport const CATEGORY_LABELS: Record<ProductCategory, string> = {\n  detergente: 'Detergente',\n  sgrassatore: 'Sgrassatore',\n  disinfettante: 'Disinfettante',\n  lucidante: 'Lucidante',\n  deodorante: 'Deodorante',\n  accessorio: 'Accessorio',\n  attrezzatura: 'Attrezzatura',\n  altro: 'Altro'\n}\n\nexport const UNIT_LABELS: Record<ProductUnit, string> = {\n  litri: 'Litri',\n  pezzi: 'Pezzi',\n  kg: 'Kg',\n  ml: 'ml',\n  rotoli: 'Rotoli',\n  confezioni: 'Confezioni'\n}\n\nexport const STATUS_LABELS: Record<WorksiteStatus, string> = {\n  active: 'Attivo',\n  paused: 'In pausa',\n  completed: 'Completato'\n}\n\n// Category icons (emoji for simplicity)\nexport const CATEGORY_ICONS: Record<ProductCategory, string> = {\n  detergente: 'üß¥',\n  sgrassatore: 'üí™',\n  disinfettante: 'üßπ',\n  lucidante: '‚ú®',\n  deodorante: 'üå∏',\n  accessorio: 'üß§',\n  attrezzatura: 'üõ†Ô∏è',\n  altro: 'üì¶'\n}\n\n// Product Types - raggruppamento logico delle categorie\nexport type ProductType = 'all' | 'consumabile' | 'attrezzatura'\n\nexport const PRODUCT_TYPE_LABELS: Record<ProductType, string> = {\n  all: 'Tutti i prodotti',\n  consumabile: 'Prodotti Pulizia',\n  attrezzatura: 'Attrezzature/Accessori'\n}\n\n// Mappa categorie -> tipo prodotto\nexport const CATEGORY_TO_TYPE: Record<ProductCategory, ProductType> = {\n  detergente: 'consumabile',\n  sgrassatore: 'consumabile',\n  disinfettante: 'consumabile',\n  lucidante: 'consumabile',\n  deodorante: 'consumabile',\n  accessorio: 'attrezzatura',\n  attrezzatura: 'attrezzatura',\n  altro: 'attrezzatura'\n}\n\n// Categorie per tipo (per filtri dropdown)\nexport const CATEGORIES_BY_TYPE: Record<ProductType, ProductCategory[]> = {\n  all: ['detergente', 'sgrassatore', 'disinfettante', 'lucidante', 'deodorante', 'accessorio', 'attrezzatura', 'altro'],\n  consumabile: ['detergente', 'sgrassatore', 'disinfettante', 'lucidante', 'deodorante'],\n  attrezzatura: ['accessorio', 'attrezzatura', 'altro']\n}\n\n// Helper function per filtrare prodotti per tipo\nexport const filterProductsByType = (products: Product[], type: ProductType): Product[] => {\n  if (type === 'all') return products\n  return products.filter(p => CATEGORY_TO_TYPE[p.category] === type)\n}\n\n// Helper function per ottenere il tipo di un prodotto\nexport const getProductType = (category: ProductCategory): ProductType => {\n  return CATEGORY_TO_TYPE[category]\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useParams, useRouter } from 'next/navigation'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { useAuth } from '@/components/providers/auth-provider'\r\nimport {\r\n  Product,\r\n  ProductCategory,\r\n  ProductUnit,\r\n  CATEGORY_LABELS,\r\n  UNIT_LABELS,\r\n  Supplier\r\n} from '@/lib/types'\r\nimport {\r\n  ArrowLeft,\r\n  Package,\r\n  Save,\r\n  Loader2,\r\n  ShieldAlert,\r\n  Trash2\r\n} from 'lucide-react'\r\n\r\nexport default function ModificaProdottoPage() {\r\n  const params = useParams()\r\n  const router = useRouter()\r\n  const { isSuperuser, loading: authLoading } = useAuth()\r\n  const supabase = createClient()\r\n\r\n  const [loading, setLoading] = useState(true)\r\n  const [saving, setSaving] = useState(false)\r\n  const [deleting, setDeleting] = useState(false)\r\n  const [product, setProduct] = useState<Product | null>(null)\r\n  const [suppliers, setSuppliers] = useState<Supplier[]>([])\r\n\r\n  // Form state\r\n  const [sku, setSku] = useState('')\r\n  const [barcode, setBarcode] = useState('')\r\n  const [name, setName] = useState('')\r\n  const [category, setCategory] = useState<ProductCategory>('detergente')\r\n  const [unit, setUnit] = useState<ProductUnit>('pezzi')\r\n  const [quantityPerPackage, setQuantityPerPackage] = useState(1)\r\n  const [unitCost, setUnitCost] = useState(0)\r\n  const [currentStock, setCurrentStock] = useState(0)\r\n  const [minStock, setMinStock] = useState(5)\r\n  const [supplierId, setSupplierId] = useState('')\r\n  const [notes, setNotes] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (params.id && !authLoading && isSuperuser) {\r\n      fetchData()\r\n    }\r\n  }, [params.id, authLoading, isSuperuser])\r\n\r\n  const fetchData = async () => {\r\n    // Fetch product\r\n    const { data: productData, error } = await supabase\r\n      .from('products')\r\n      .select('*')\r\n      .eq('id', params.id)\r\n      .single()\r\n\r\n    if (error || !productData) {\r\n      router.push('/prodotti')\r\n      return\r\n    }\r\n\r\n    setProduct(productData)\r\n\r\n    // Populate form\r\n    setSku(productData.sku || '')\r\n    setBarcode(productData.barcode || '')\r\n    setName(productData.name || '')\r\n    setCategory(productData.category || 'detergente')\r\n    setUnit(productData.unit || 'pezzi')\r\n    setQuantityPerPackage(productData.quantity_per_package || 1)\r\n    setUnitCost(productData.unit_cost || 0)\r\n    setCurrentStock(productData.current_stock || 0)\r\n    setMinStock(productData.min_stock || 5)\r\n    setSupplierId(productData.supplier_id || '')\r\n    setNotes(productData.notes || '')\r\n\r\n    // Fetch suppliers\r\n    const { data: suppliersData } = await supabase\r\n      .from('suppliers')\r\n      .select('*')\r\n      .eq('is_active', true)\r\n      .order('name')\r\n\r\n    if (suppliersData) setSuppliers(suppliersData)\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!name.trim()) {\r\n      alert('Inserisci il nome del prodotto')\r\n      return\r\n    }\r\n\r\n    setSaving(true)\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('products')\r\n        .update({\r\n          name: name.trim(),\r\n          category,\r\n          unit,\r\n          quantity_per_package: quantityPerPackage,\r\n          unit_cost: unitCost,\r\n          current_stock: currentStock,\r\n          min_stock: minStock,\r\n          supplier_id: supplierId || null,\r\n          notes: notes.trim() || null\r\n        })\r\n        .eq('id', params.id)\r\n\r\n      if (error) {\r\n        console.error('Error updating product:', error)\r\n        alert('Errore durante il salvataggio: ' + error.message)\r\n      } else {\r\n        router.push(`/prodotti/${params.id}`)\r\n      }\r\n    } catch (err) {\r\n      console.error('Error:', err)\r\n      alert('Errore durante il salvataggio')\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async () => {\r\n    if (!product) return\r\n\r\n    // Check if there are movements for this product\r\n    const { count } = await supabase\r\n      .from('movements')\r\n      .select('*', { count: 'exact', head: true })\r\n      .eq('product_id', params.id)\r\n\r\n    if (count && count > 0) {\r\n      if (!confirm(`Questo prodotto ha ${count} movimenti associati. Vuoi disattivarlo? Il prodotto non sar√† pi√π visibile ma i dati storici saranno mantenuti.`)) {\r\n        return\r\n      }\r\n    } else {\r\n      if (!confirm(`Sei sicuro di voler eliminare \"${product.name}\"? Questa azione non pu√≤ essere annullata.`)) {\r\n        return\r\n      }\r\n    }\r\n\r\n    setDeleting(true)\r\n\r\n    try {\r\n      // Soft delete (set is_active to false)\r\n      const { error } = await supabase\r\n        .from('products')\r\n        .update({ is_active: false })\r\n        .eq('id', params.id)\r\n\r\n      if (error) {\r\n        console.error('Error deleting product:', error)\r\n        alert('Errore durante l\\'eliminazione: ' + error.message)\r\n      } else {\r\n        router.push('/prodotti')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error:', err)\r\n      alert('Errore durante l\\'eliminazione')\r\n    } finally {\r\n      setDeleting(false)\r\n    }\r\n  }\r\n\r\n  // Show loading while checking auth\r\n  if (authLoading || loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <Loader2 className=\"w-8 h-8 text-blue-600 animate-spin\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Access denied for non-superusers\r\n  if (!isSuperuser) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center p-6 text-center\">\r\n        <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\">\r\n          <ShieldAlert className=\"w-8 h-8 text-red-600\" />\r\n        </div>\r\n        <h1 className=\"text-xl font-bold text-gray-900 mb-2\">Accesso Negato</h1>\r\n        <p className=\"text-gray-500 mb-4\">Solo i superuser possono modificare i prodotti.</p>\r\n        <button\r\n          onClick={() => router.push('/prodotti')}\r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-xl font-medium\"\r\n        >\r\n          Torna ai Prodotti\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!product) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen pb-24\">\r\n      {/* Header */}\r\n      <header className=\"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 text-white px-4 pt-12 pb-6 rounded-b-3xl\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <button\r\n              onClick={() => router.back()}\r\n              className=\"p-2 -ml-2 hover:bg-white/10 rounded-xl transition-colors\"\r\n            >\r\n              <ArrowLeft className=\"w-5 h-5\" />\r\n            </button>\r\n            <span className=\"text-blue-100\">Modifica Prodotto</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-14 h-14 rounded-2xl bg-white/20 flex items-center justify-center\">\r\n              <Package className=\"w-7 h-7\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-blue-200 text-xs font-mono\">{sku}</p>\r\n              <h1 className=\"text-xl font-bold\">{product.name}</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <form onSubmit={handleSubmit} className=\"max-w-4xl mx-auto px-4 -mt-4 space-y-4\">\r\n        {/* Codici (readonly) */}\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          <div className=\"bg-gray-50 rounded-2xl border border-gray-200 p-4\">\r\n            <label className=\"block text-sm font-medium text-gray-500 mb-2\">\r\n              SKU (non modificabile)\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={sku}\r\n              disabled\r\n              className=\"w-full px-3 py-3 rounded-xl border border-gray-200 text-gray-500 bg-gray-100 cursor-not-allowed font-mono text-sm\"\r\n            />\r\n          </div>\r\n          <div className=\"bg-gray-50 rounded-2xl border border-gray-200 p-4\">\r\n            <label className=\"block text-sm font-medium text-gray-500 mb-2\">\r\n              Barcode (non modificabile)\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={barcode}\r\n              disabled\r\n              className=\"w-full px-3 py-3 rounded-xl border border-gray-200 text-gray-500 bg-gray-100 cursor-not-allowed font-mono text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Nome */}\r\n        <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Nome Prodotto *\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            placeholder=\"Es. Detergente Multiuso 5L\"\r\n            className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        {/* Categoria e Unita */}\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Categoria\r\n            </label>\r\n            <select\r\n              value={category}\r\n              onChange={(e) => setCategory(e.target.value as ProductCategory)}\r\n              className=\"w-full px-3 py-3 rounded-xl border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              {Object.entries(CATEGORY_LABELS).map(([key, label]) => (\r\n                <option key={key} value={key}>{label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Unita\r\n            </label>\r\n            <select\r\n              value={unit}\r\n              onChange={(e) => setUnit(e.target.value as ProductUnit)}\r\n              className=\"w-full px-3 py-3 rounded-xl border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              {Object.entries(UNIT_LABELS).map(([key, label]) => (\r\n                <option key={key} value={key}>{label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quantita per confezione e Costo */}\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Qt√† per Conf.\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={quantityPerPackage}\r\n              onChange={(e) => setQuantityPerPackage(Number(e.target.value))}\r\n              min=\"1\"\r\n              className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Costo Unitario ‚Ç¨\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={unitCost}\r\n              onChange={(e) => setUnitCost(Number(e.target.value))}\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n              className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stock attuale e minimo */}\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Giacenza Attuale\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={currentStock}\r\n              onChange={(e) => setCurrentStock(Number(e.target.value))}\r\n              min=\"0\"\r\n              className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            <p className=\"text-xs text-amber-600 mt-1\">\r\n              Usa i movimenti per aggiornare la giacenza\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Scorta Minima\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={minStock}\r\n              onChange={(e) => setMinStock(Number(e.target.value))}\r\n              min=\"0\"\r\n              className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Fornitore */}\r\n        <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Fornitore\r\n          </label>\r\n          <select\r\n            value={supplierId}\r\n            onChange={(e) => setSupplierId(e.target.value)}\r\n            className=\"w-full px-3 py-3 rounded-xl border border-gray-200 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"\">-- Nessun fornitore --</option>\r\n            {suppliers.map((s) => (\r\n              <option key={s.id} value={s.id}>{s.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Note */}\r\n        <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Note (opzionale)\r\n          </label>\r\n          <textarea\r\n            value={notes}\r\n            onChange={(e) => setNotes(e.target.value)}\r\n            placeholder=\"Note aggiuntive...\"\r\n            rows={3}\r\n            className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\r\n          />\r\n        </div>\r\n\r\n        {/* Buttons */}\r\n        <div className=\"space-y-3\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={saving || !name.trim()}\r\n            className=\"w-full flex items-center justify-center gap-2 p-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-2xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {saving ? (\r\n              <>\r\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                Salvataggio...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Save className=\"w-5 h-5\" />\r\n                Salva Modifiche\r\n              </>\r\n            )}\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleDelete}\r\n            disabled={deleting}\r\n            className=\"w-full flex items-center justify-center gap-2 p-4 bg-white border-2 border-red-200 text-red-600 rounded-2xl font-semibold hover:bg-red-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {deleting ? (\r\n              <>\r\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                Disattivazione...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Trash2 className=\"w-5 h-5\" />\r\n                Disattiva Prodotto\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,5]}