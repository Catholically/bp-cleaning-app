{"version":3,"sources":["../../../../src/app/%28app%29/movimenti/scarico/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useRef, Suspense, useCallback } from 'react'\nimport { createClient } from '@/lib/supabase/client'\nimport { useAuth } from '@/components/providers/auth-provider'\nimport { formatCurrency, formatNumber, cn } from '@/lib/utils'\nimport { Product, Worksite, ProductType, ProductCategory, CATEGORY_ICONS, CATEGORY_LABELS, CATEGORIES_BY_TYPE, filterProductsByType } from '@/lib/types'\nimport {\n  ArrowUpFromLine,\n  Camera,\n  Search,\n  Minus,\n  Plus,\n  Check,\n  X,\n  ChevronDown,\n  ChevronUp,\n  ChevronLeft,\n  Loader2,\n  ShieldAlert,\n  Package,\n  Sparkles,\n  Wrench,\n  ScanBarcode\n} from 'lucide-react'\nimport Link from 'next/link'\nimport { useRouter, useSearchParams } from 'next/navigation'\nimport { BrowserMultiFormatReader, BarcodeFormat, DecodeHintType } from '@zxing/library'\nimport { useBarcodeScanner, useIsMobile } from '@/hooks/useBarcodeScanner'\n\nfunction ScaricoContent() {\n  const { user, profile, isManager, loading: authLoading } = useAuth()\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const productIdFromUrl = searchParams.get('product')\n  const cantiereIdFromUrl = searchParams.get('cantiere')\n  const fromMovimenti = searchParams.get('from') === 'movimenti'\n  const backUrl = fromMovimenti ? '/movimenti' : '/'\n  const [products, setProducts] = useState<Product[]>([])\n  const [recentProducts, setRecentProducts] = useState<Product[]>([])\n  const [worksites, setWorksites] = useState<Worksite[]>([])\n  const [loading, setLoading] = useState(true)\n  const [search, setSearch] = useState('')\n  const [productType, setProductType] = useState<ProductType>('all')\n  const [expandedType, setExpandedType] = useState<ProductType | null>(null)\n  const [selectedCategory, setSelectedCategory] = useState<ProductCategory | null>(null)\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null)\n  const [selectedWorksite, setSelectedWorksite] = useState<Worksite | null>(null)\n  const [quantity, setQuantity] = useState(1)\n  const [movementDate, setMovementDate] = useState(new Date().toISOString().split('T')[0])\n  const [submitting, setSubmitting] = useState(false)\n  const [showSuccess, setShowSuccess] = useState(false)\n  const [successData, setSuccessData] = useState<any>(null)\n  const [showWorksiteSelect, setShowWorksiteSelect] = useState(false)\n  const [showScanner, setShowScanner] = useState(false)\n  const [scannerError, setScannerError] = useState<string | null>(null)\n  const videoRef = useRef<HTMLVideoElement>(null)\n  const codeReaderRef = useRef<BrowserMultiFormatReader | null>(null)\n  const supabase = createClient()\n  const [lastScannedBarcode, setLastScannedBarcode] = useState<string | null>(null)\n  const isMobile = useIsMobile()\n\n  // Hook per pistola barcode USB (funziona quando non c'Ã¨ focus su input)\n  const handleUsbBarcodeScan = useCallback((barcode: string) => {\n    // Trova prodotto per barcode\n    const foundProduct = products.find(p => p.barcode === barcode)\n    if (foundProduct) {\n      setSelectedProduct(foundProduct)\n      setLastScannedBarcode(barcode)\n      // Feedback visivo\n      setTimeout(() => setLastScannedBarcode(null), 2000)\n    } else {\n      setScannerError(`Prodotto non trovato: ${barcode}`)\n      setTimeout(() => setScannerError(null), 3000)\n    }\n  }, [products])\n\n  useBarcodeScanner({\n    onScan: handleUsbBarcodeScan,\n    enabled: !selectedProduct && !showScanner && products.length > 0 && !isMobile,\n    minLength: 5,\n  })\n\n  // Redirect managers - they cannot access movements\n  useEffect(() => {\n    if (!authLoading && isManager) {\n      router.replace('/')\n    }\n  }, [isManager, authLoading, router])\n\n  useEffect(() => {\n    if (isManager) return // Skip data loading for managers\n\n    let isMounted = true\n\n    const load = async () => {\n      try {\n        const { products: loadedProducts, worksites: loadedWorksites, recentProducts: loadedRecent } = await fetchData()\n\n        // Auto-seleziona prodotto se passato via URL\n        if (productIdFromUrl && loadedProducts && isMounted) {\n          const preselectedProduct = loadedProducts.find((p: Product) => p.id === productIdFromUrl)\n          if (preselectedProduct) {\n            setSelectedProduct(preselectedProduct)\n          }\n        }\n\n        // Auto-seleziona cantiere se passato via URL\n        if (cantiereIdFromUrl && loadedWorksites && isMounted) {\n          const preselectedWorksite = loadedWorksites.find((w: Worksite) => w.id === cantiereIdFromUrl)\n          if (preselectedWorksite) {\n            setSelectedWorksite(preselectedWorksite)\n          }\n        }\n      } finally {\n        if (isMounted) setLoading(false)\n      }\n    }\n\n    load()\n\n    // Cleanup camera and barcode reader on unmount\n    return () => {\n      isMounted = false\n      stopScanner()\n    }\n  }, [productIdFromUrl, cantiereIdFromUrl, user?.id, isManager])\n\n  const fetchData = async (): Promise<{ products: Product[] | null, worksites: Worksite[] | null, recentProducts: Product[] | null }> => {\n    const [productsRes, worksitesRes] = await Promise.all([\n      supabase.from('products').select('*').eq('is_active', true).order('name'),\n      supabase.from('worksites').select('*').eq('status', 'active').order('code')\n    ])\n\n    if (productsRes.data) setProducts(productsRes.data)\n    if (worksitesRes.data) setWorksites(worksitesRes.data)\n\n    // Fetch recent products used by current operator (last 30 days)\n    let recentProductsData: Product[] = []\n    if (user?.id && productsRes.data) {\n      const thirtyDaysAgo = new Date()\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30)\n\n      const { data: recentMovements } = await supabase\n        .from('movements')\n        .select('product_id, created_at')\n        .eq('operator_id', user.id)\n        .eq('type', 'scarico')\n        .gte('created_at', thirtyDaysAgo.toISOString())\n        .order('created_at', { ascending: false })\n\n      if (recentMovements && recentMovements.length > 0) {\n        // Get unique product IDs in order of most recent usage\n        const seenIds = new Set<string>()\n        const uniqueProductIds: string[] = []\n        for (const mov of recentMovements) {\n          if (!seenIds.has(mov.product_id)) {\n            seenIds.add(mov.product_id)\n            uniqueProductIds.push(mov.product_id)\n          }\n        }\n\n        // Map to actual products, keeping the recent order\n        const productsMap = new Map(productsRes.data.map((p: Product) => [p.id, p]))\n        recentProductsData = uniqueProductIds\n          .map(id => productsMap.get(id))\n          .filter((p): p is Product => p !== undefined)\n          .slice(0, 10)\n      }\n    }\n\n    setRecentProducts(recentProductsData)\n    return { products: productsRes.data, worksites: worksitesRes.data, recentProducts: recentProductsData }\n  }\n\n  const filteredProducts = (() => {\n    let filtered = products\n    if (selectedCategory) {\n      filtered = products.filter(p => p.category === selectedCategory)\n    } else if (productType !== 'all') {\n      filtered = filterProductsByType(products, productType)\n    }\n    return filtered.filter(p =>\n      p.name.toLowerCase().includes(search.toLowerCase()) ||\n      p.barcode?.toLowerCase().includes(search.toLowerCase())\n    )\n  })()\n\n  const handleTypeClick = (type: ProductType) => {\n    if (type === 'all') {\n      setProductType('all')\n      setExpandedType(null)\n      setSelectedCategory(null)\n    } else if (expandedType === type) {\n      setExpandedType(null)\n      setSelectedCategory(null)\n      setProductType(type)\n    } else {\n      setProductType(type)\n      setExpandedType(type)\n      setSelectedCategory(null)\n    }\n  }\n\n  const handleCategoryClick = (category: ProductCategory) => {\n    if (selectedCategory === category) {\n      setSelectedCategory(null)\n    } else {\n      setSelectedCategory(category)\n    }\n  }\n\n  const handleSubmit = async () => {\n    if (!selectedProduct || !selectedWorksite || !user) return\n\n    setSubmitting(true)\n    try {\n      // Verifica stock attuale prima di procedere (previene stock negativo)\n      const { data: freshProduct, error: fetchError } = await supabase\n        .from('products')\n        .select('current_stock')\n        .eq('id', selectedProduct.id)\n        .single()\n\n      if (fetchError) throw fetchError\n\n      if (freshProduct.current_stock < quantity) {\n        alert(`Stock insufficiente! Disponibili solo ${freshProduct.current_stock} unitÃ .`)\n        // Aggiorna il prodotto selezionato con lo stock corretto\n        setSelectedProduct({ ...selectedProduct, current_stock: freshProduct.current_stock })\n        setQuantity(Math.min(quantity, freshProduct.current_stock))\n        setSubmitting(false)\n        return\n      }\n\n      const { error } = await supabase.from('movements').insert({\n        type: 'scarico',\n        product_id: selectedProduct.id,\n        worksite_id: selectedWorksite.id,\n        quantity: quantity,\n        unit_cost_at_time: selectedProduct.unit_cost,\n        operator_id: user.id,\n        movement_date: movementDate\n      })\n\n      if (error) throw error\n\n      setSuccessData({\n        product: selectedProduct.name,\n        quantity,\n        worksite: `${selectedWorksite.code} ${selectedWorksite.name}`,\n        total: quantity * selectedProduct.unit_cost\n      })\n      setShowSuccess(true)\n\n      // Reset\n      setSelectedProduct(null)\n      setQuantity(1)\n      setMovementDate(new Date().toISOString().split('T')[0])\n      setSearch('')\n    } catch (error) {\n      console.error('Error:', error)\n      alert('Errore durante lo scarico')\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  const handleBarcodeDetected = useCallback((barcode: string) => {\n    // Find product by barcode\n    const foundProduct = products.find(p => p.barcode === barcode)\n    if (foundProduct) {\n      setSelectedProduct(foundProduct)\n      stopScanner()\n    } else {\n      setScannerError(`Prodotto non trovato: ${barcode}`)\n      setTimeout(() => setScannerError(null), 3000)\n    }\n  }, [products])\n\n  const startScanner = async () => {\n    setShowScanner(true)\n    setScannerError(null)\n\n    try {\n      // Configure barcode reader for common formats\n      const hints = new Map()\n      hints.set(DecodeHintType.POSSIBLE_FORMATS, [\n        BarcodeFormat.EAN_13,\n        BarcodeFormat.EAN_8,\n        BarcodeFormat.CODE_128,\n        BarcodeFormat.CODE_39,\n        BarcodeFormat.UPC_A,\n        BarcodeFormat.UPC_E,\n        BarcodeFormat.QR_CODE\n      ])\n\n      const codeReader = new BrowserMultiFormatReader(hints)\n      codeReaderRef.current = codeReader\n\n      // Get available video devices\n      const videoInputDevices = await codeReader.listVideoInputDevices()\n\n      // Prefer back camera\n      let selectedDeviceId = videoInputDevices[0]?.deviceId\n      const backCamera = videoInputDevices.find(device =>\n        device.label.toLowerCase().includes('back') ||\n        device.label.toLowerCase().includes('rear') ||\n        device.label.toLowerCase().includes('environment')\n      )\n      if (backCamera) {\n        selectedDeviceId = backCamera.deviceId\n      }\n\n      if (!selectedDeviceId) {\n        throw new Error('Nessuna fotocamera trovata')\n      }\n\n      // Start continuous decoding\n      await codeReader.decodeFromVideoDevice(\n        selectedDeviceId,\n        videoRef.current!,\n        (result, error) => {\n          if (result) {\n            const barcode = result.getText()\n            console.log('Barcode detected:', barcode)\n            handleBarcodeDetected(barcode)\n          }\n          // Ignore errors during scanning (they're expected when no barcode is visible)\n        }\n      )\n    } catch (err) {\n      console.error('Scanner error:', err)\n      setScannerError('Impossibile accedere alla fotocamera')\n      setShowScanner(false)\n    }\n  }\n\n  const stopScanner = useCallback(() => {\n    if (codeReaderRef.current) {\n      codeReaderRef.current.reset()\n      codeReaderRef.current = null\n    }\n    setShowScanner(false)\n    setScannerError(null)\n  }, [])\n\n  // Show loading spinner while checking auth\n  if (authLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 text-orange-600 animate-spin\" />\n      </div>\n    )\n  }\n\n  // Show access denied for managers\n  if (isManager) {\n    return (\n      <div className=\"min-h-screen flex flex-col items-center justify-center p-6 text-center\">\n        <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\">\n          <ShieldAlert className=\"w-8 h-8 text-red-600\" />\n        </div>\n        <h1 className=\"text-xl font-bold text-gray-900 mb-2\">Accesso Negato</h1>\n        <p className=\"text-gray-500 mb-4\">Non hai i permessi per accedere ai movimenti.</p>\n        <button\n          onClick={() => router.push('/')}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-xl font-medium\"\n        >\n          Torna alla Home\n        </button>\n      </div>\n    )\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"w-8 h-8 border-4 border-orange-600 border-t-transparent rounded-full animate-spin\" />\n      </div>\n    )\n  }\n\n  // Success screen\n  if (showSuccess && successData) {\n    return (\n      <div className=\"min-h-screen\">\n        <header className=\"bg-gradient-to-r from-orange-500 via-orange-600 to-red-500 text-white px-4 pt-12 pb-6 rounded-b-3xl\">\n          <div className=\"max-w-4xl mx-auto flex items-center gap-3\">\n            <ArrowUpFromLine className=\"w-6 h-6\" />\n            <div>\n              <h1 className=\"text-xl font-bold\">Scarico Merce</h1>\n              <p className=\"text-orange-100 text-sm\">Operazione completata</p>\n            </div>\n          </div>\n        </header>\n\n        <div className=\"max-w-4xl mx-auto px-4 -mt-4\">\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-8 text-center\">\n            <div className=\"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <Check className=\"w-10 h-10 text-emerald-600\" />\n            </div>\n            <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Scarico Registrato!</h2>\n            <p className=\"text-gray-600 mb-4\">\n              {successData.quantity}x {successData.product}<br />\n              â†’ {successData.worksite}\n            </p>\n            <p className=\"text-2xl font-bold text-emerald-600\">\n              {formatCurrency(successData.total)}\n            </p>\n            \n            <div className=\"flex flex-col gap-3 mt-6\">\n              <button\n                onClick={() => {\n                  setShowSuccess(false)\n                  setSuccessData(null)\n                }}\n                className=\"inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 focus:ring-orange-500 shadow-md hover:shadow-lg active:scale-[0.98] w-full\"\n              >\n                Nuovo Scarico\n              </button>\n              <button\n                onClick={() => router.push('/movimenti')}\n                className=\"inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 border-2 border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50 focus:ring-gray-500 w-full\"\n              >\n                Vai a Movimenti\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Product selection screen\n  if (!selectedProduct) {\n    return (\n      <div className=\"min-h-screen\">\n        <header className=\"bg-gradient-to-r from-orange-500 via-orange-600 to-red-500 text-white px-4 pt-12 pb-6 rounded-b-3xl\">\n          <div className=\"max-w-4xl mx-auto flex items-center gap-3\">\n            <Link href={backUrl} className=\"p-2 -ml-2 hover:bg-white/10 rounded-xl transition-colors\">\n              <ChevronLeft className=\"w-5 h-5\" />\n            </Link>\n            <ArrowUpFromLine className=\"w-6 h-6\" />\n            <div>\n              <h1 className=\"text-xl font-bold\">Scarico Merce</h1>\n              <p className=\"text-orange-100 text-sm\">Scansiona o cerca prodotto</p>\n            </div>\n          </div>\n        </header>\n\n        <div className=\"max-w-4xl mx-auto px-4 -mt-4 space-y-4\">\n          {/* USB Barcode Scanner indicator - solo su desktop */}\n          {!isMobile && (\n            <div className={cn(\n              \"flex items-center gap-3 p-4 rounded-2xl border-2 transition-all\",\n              lastScannedBarcode\n                ? \"bg-emerald-50 border-emerald-500\"\n                : \"bg-orange-50 border-orange-200\"\n            )}>\n              <div className={cn(\n                \"w-10 h-10 rounded-xl flex items-center justify-center\",\n                lastScannedBarcode ? \"bg-emerald-500 text-white\" : \"bg-orange-500 text-white\"\n              )}>\n                <ScanBarcode className=\"w-5 h-5\" />\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"font-medium text-gray-900\">\n                  {lastScannedBarcode ? 'Barcode rilevato!' : 'Pistola barcode pronta'}\n                </p>\n                <p className=\"text-sm text-gray-500\">\n                  {lastScannedBarcode\n                    ? lastScannedBarcode\n                    : 'Scansiona un prodotto con la pistola USB'}\n                </p>\n              </div>\n              {lastScannedBarcode && (\n                <Check className=\"w-6 h-6 text-emerald-500\" />\n              )}\n            </div>\n          )}\n\n          {/* Camera Scanner area - solo su mobile */}\n          {isMobile && (\n            showScanner ? (\n              <div className=\"relative h-48 bg-gray-900 rounded-2xl overflow-hidden\">\n                <video\n                  ref={videoRef}\n                  autoPlay\n                  playsInline\n                  muted\n                  className=\"w-full h-full object-cover\"\n                />\n                <div className=\"absolute inset-0 flex items-center justify-center\">\n                  <div className=\"w-32 h-32 border-2 border-cyan-400 rounded-xl relative\">\n                    <div className=\"scanner-line\" />\n                  </div>\n                </div>\n                {scannerError && (\n                  <div className=\"absolute bottom-3 left-3 right-3 bg-red-500 text-white text-sm px-3 py-2 rounded-lg text-center\">\n                    {scannerError}\n                  </div>\n                )}\n                <button\n                  onClick={stopScanner}\n                  className=\"absolute top-3 right-3 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center\"\n                >\n                  <X className=\"w-4 h-4 text-white\" />\n                </button>\n                <div className=\"absolute top-3 left-3 bg-black/50 text-white text-xs px-2 py-1 rounded\">\n                  Inquadra il barcode\n                </div>\n              </div>\n            ) : (\n              <button\n                onClick={startScanner}\n                className=\"w-full h-32 bg-gray-800 rounded-2xl flex flex-col items-center justify-center gap-2 text-gray-400 hover:bg-gray-700 transition-colors\"\n              >\n                <Camera className=\"w-8 h-8\" />\n                <span className=\"text-sm\">Tocca per scansionare barcode</span>\n              </button>\n            )\n          )}\n\n          {/* Search */}\n          <div>\n            {isMobile && <p className=\"text-sm text-gray-500 mb-2\">Oppure cerca manualmente</p>}\n            <div className=\"relative\">\n              <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Nome prodotto o barcode...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white text-gray-900 placeholder-gray-400 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pl-12\"\n              />\n            </div>\n          </div>\n\n          {/* Filtro tipo prodotto */}\n          <div className=\"space-y-2\">\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => handleTypeClick('all')}\n                className={cn(\n                  'flex items-center gap-1.5 px-3 py-2 rounded-xl text-sm font-medium transition-all',\n                  productType === 'all' && !selectedCategory\n                    ? 'bg-orange-100 text-orange-700 border border-orange-200'\n                    : 'bg-white text-gray-600 border border-gray-200'\n                )}\n              >\n                <Package className=\"w-4 h-4\" />\n                Tutti\n              </button>\n              <button\n                onClick={() => handleTypeClick('consumabile')}\n                className={cn(\n                  'flex items-center gap-1.5 px-3 py-2 rounded-xl text-sm font-medium transition-all',\n                  productType === 'consumabile'\n                    ? 'bg-emerald-100 text-emerald-700 border border-emerald-200'\n                    : 'bg-white text-gray-600 border border-gray-200'\n                )}\n              >\n                <Sparkles className=\"w-4 h-4\" />\n                Pulizia\n                {expandedType === 'consumabile' ? (\n                  <ChevronUp className=\"w-3 h-3 ml-1\" />\n                ) : (\n                  <ChevronDown className=\"w-3 h-3 ml-1\" />\n                )}\n              </button>\n              <button\n                onClick={() => handleTypeClick('attrezzatura')}\n                className={cn(\n                  'flex items-center gap-1.5 px-3 py-2 rounded-xl text-sm font-medium transition-all',\n                  productType === 'attrezzatura'\n                    ? 'bg-violet-100 text-violet-700 border border-violet-200'\n                    : 'bg-white text-gray-600 border border-gray-200'\n                )}\n              >\n                <Wrench className=\"w-4 h-4\" />\n                Attrezz.\n                {expandedType === 'attrezzatura' ? (\n                  <ChevronUp className=\"w-3 h-3 ml-1\" />\n                ) : (\n                  <ChevronDown className=\"w-3 h-3 ml-1\" />\n                )}\n              </button>\n            </div>\n\n            {/* Sottocategorie espandibili */}\n            {expandedType && (\n              <div className=\"flex flex-wrap gap-2 animate-slide-up\">\n                {CATEGORIES_BY_TYPE[expandedType].map(category => (\n                  <button\n                    key={category}\n                    onClick={() => handleCategoryClick(category)}\n                    className={cn(\n                      'flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all',\n                      selectedCategory === category\n                        ? expandedType === 'consumabile'\n                          ? 'bg-emerald-500 text-white'\n                          : 'bg-violet-500 text-white'\n                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                    )}\n                  >\n                    <span>{CATEGORY_ICONS[category]}</span>\n                    {CATEGORY_LABELS[category]}\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Recent/filtered products */}\n          <div>\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2\">\n              {search || productType !== 'all' ? 'Risultati' : (recentProducts.length > 0 ? 'Usati di recente' : 'Tutti i prodotti')}\n            </h3>\n            <div className=\"space-y-2\">\n              {(search || productType !== 'all' ? filteredProducts.slice(0, 15) : (recentProducts.length > 0 ? recentProducts : filteredProducts.slice(0, 10))).map(product => (\n                <button\n                  key={product.id}\n                  onClick={() => setSelectedProduct(product)}\n                  className=\"flex items-center gap-4 p-4 bg-white rounded-2xl border border-gray-100 shadow-sm transition-all duration-200 hover:shadow-md hover:border-gray-200 w-full text-left\"\n                >\n                  <div className=\"w-12 h-12 rounded-xl flex items-center justify-center text-2xl bg-orange-100\">\n                    {CATEGORY_ICONS[product.category]}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <h4 className=\"font-semibold text-gray-900 truncate\">{product.name}</h4>\n                    <p className=\"text-sm text-gray-500\">\n                      {product.quantity_per_package}{product.unit} â€¢ {formatCurrency(product.unit_cost)}\n                    </p>\n                  </div>\n                  <span className={cn(\n                    'font-bold',\n                    product.current_stock <= product.min_stock ? 'text-red-500' : 'text-emerald-500'\n                  )}>\n                    {formatNumber(product.current_stock, 0)}\n                  </span>\n                </button>\n              ))}\n\n              {/* Show \"all products\" link if showing recent */}\n              {!search && productType === 'all' && recentProducts.length > 0 && (\n                <button\n                  onClick={() => setSearch(' ')}\n                  className=\"w-full p-3 text-center text-orange-600 font-medium text-sm hover:bg-orange-50 rounded-xl transition-colors\"\n                >\n                  Mostra tutti i prodotti â†’\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Quantity selection screen\n  return (\n    <div className=\"min-h-screen\">\n      <header className=\"bg-gradient-to-r from-orange-500 via-orange-600 to-red-500 text-white px-4 pt-12 pb-6 rounded-b-3xl\">\n        <div className=\"max-w-4xl mx-auto flex items-center gap-3\">\n          <ArrowUpFromLine className=\"w-6 h-6\" />\n          <div>\n            <h1 className=\"text-xl font-bold\">Scarico Merce</h1>\n            <p className=\"text-orange-100 text-sm truncate\">{selectedProduct.name}</p>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-4xl mx-auto px-4 -mt-4 space-y-4\">\n        {/* Product card */}\n        <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\n          <p className=\"text-xs text-gray-500 uppercase tracking-wider mb-2\">Prodotto Selezionato</p>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-2xl\">\n              ðŸ§´\n            </div>\n            <div className=\"flex-1\">\n              <h3 className=\"font-semibold text-gray-900\">{selectedProduct.name}</h3>\n              <p className=\"text-sm text-gray-500\">\n                Barcode: {selectedProduct.barcode || 'N/A'}\n              </p>\n              <p className=\"text-sm text-gray-500\">\n                {selectedProduct.quantity_per_package} {selectedProduct.unit} â€¢ {formatCurrency(selectedProduct.unit_cost)}/pz\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Date selector */}\n        <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\n          <label className=\"block text-xs text-gray-500 uppercase tracking-wider mb-2\">\n            Data Movimento\n          </label>\n          <input\n            type=\"date\"\n            value={movementDate}\n            onChange={(e) => setMovementDate(e.target.value)}\n            max={new Date().toISOString().split('T')[0]}\n            className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-center text-lg font-semibold\"\n          />\n        </div>\n\n        {/* Quantity selector */}\n        <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\n          <p className=\"text-xs text-gray-500 uppercase tracking-wider mb-4\">QuantitÃ  da Scaricare</p>\n          <div className=\"flex items-center justify-center gap-6\">\n            <button\n              onClick={() => setQuantity(Math.max(1, quantity - 1))}\n              className=\"w-12 h-12 rounded-xl flex items-center justify-center text-2xl font-bold transition-all duration-200 active:scale-95 bg-red-100 text-red-600 hover:bg-red-200\"\n            >\n              <Minus className=\"w-6 h-6\" />\n            </button>\n            <span className=\"text-5xl font-bold text-gray-900 w-20 text-center\">{quantity}</span>\n            <button\n              onClick={() => setQuantity(Math.min(selectedProduct.current_stock, quantity + 1))}\n              className=\"w-12 h-12 rounded-xl flex items-center justify-center text-2xl font-bold transition-all duration-200 active:scale-95 bg-emerald-100 text-emerald-600 hover:bg-emerald-200\"\n            >\n              <Plus className=\"w-6 h-6\" />\n            </button>\n          </div>\n          <div className=\"mt-4 text-center\">\n            <p className=\"text-sm text-gray-500\">\n              Disponibili: <span className=\"font-semibold\">{formatNumber(selectedProduct.current_stock, 0)}</span> â€¢ \n              Costo: <span className=\"font-semibold text-orange-600\">{formatCurrency(quantity * selectedProduct.unit_cost)}</span>\n            </p>\n          </div>\n        </div>\n\n        {/* Worksite selector */}\n        <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\n          <p className=\"text-xs text-gray-500 uppercase tracking-wider mb-2\">Cantiere destinazione *</p>\n          <button\n            onClick={() => setShowWorksiteSelect(true)}\n            className=\"w-full flex items-center justify-between p-3 border border-gray-200 rounded-xl\"\n          >\n            {selectedWorksite ? (\n              <div className=\"text-left\">\n                <p className=\"font-semibold text-gray-900\">{selectedWorksite.code} - {selectedWorksite.name}</p>\n                <p className=\"text-sm text-gray-500\">{selectedWorksite.address}, {selectedWorksite.city}</p>\n              </div>\n            ) : (\n              <span className=\"text-gray-400\">Seleziona cantiere...</span>\n            )}\n            <ChevronDown className=\"w-5 h-5 text-gray-400\" />\n          </button>\n        </div>\n\n        {/* Action buttons */}\n        <div className=\"flex gap-3 pt-2\">\n          <button\n            onClick={() => {\n              setSelectedProduct(null)\n              setQuantity(1)\n              setMovementDate(new Date().toISOString().split('T')[0])\n            }}\n            className=\"inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed border-2 border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:bg-gray-50 focus:ring-gray-500 flex-1\"\n          >\n            Annulla\n          </button>\n          <button\n            onClick={handleSubmit}\n            disabled={!selectedWorksite || submitting}\n            className=\"inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 focus:ring-orange-500 shadow-md hover:shadow-lg active:scale-[0.98] flex-1\"\n          >\n            {submitting ? (\n              <Loader2 className=\"w-5 h-5 animate-spin\" />\n            ) : (\n              <>\n                <Check className=\"w-5 h-5\" />\n                Conferma\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Worksite selector modal */}\n      {showWorksiteSelect && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-end\">\n          <div className=\"bg-white w-full rounded-t-3xl p-4 max-h-[70vh] overflow-auto animate-slide-up\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-bold\">Seleziona Cantiere</h3>\n              <button onClick={() => setShowWorksiteSelect(false)}>\n                <X className=\"w-6 h-6 text-gray-400\" />\n              </button>\n            </div>\n            <div className=\"space-y-2\">\n              {worksites.map(ws => (\n                <button\n                  key={ws.id}\n                  onClick={() => {\n                    setSelectedWorksite(ws)\n                    setShowWorksiteSelect(false)\n                  }}\n                  className={cn(\n                    'w-full p-4 rounded-xl text-left transition-all',\n                    selectedWorksite?.id === ws.id\n                      ? 'bg-orange-100 border-2 border-orange-500'\n                      : 'bg-gray-50 border-2 border-transparent'\n                  )}\n                >\n                  <p className=\"font-semibold text-gray-900\">{ws.code} - {ws.name}</p>\n                  <p className=\"text-sm text-gray-500\">{ws.address}, {ws.city}</p>\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default function ScaricoPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"w-8 h-8 border-4 border-orange-600 border-t-transparent rounded-full animate-spin\" />\n      </div>\n    }>\n      <ScaricoContent />\n    </Suspense>\n  )\n}\n"],"names":[],"mappings":"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"}