{"version":3,"sources":["../../../../src/app/%28app%29/utenti/page.tsx","../../../../node_modules/lucide-react/src/icons/circle-check.ts","../../../../node_modules/lucide-react/src/icons/copy.ts","../../../../node_modules/lucide-react/src/icons/user-plus.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, Suspense } from 'react'\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport Link from 'next/link'\r\nimport { useAuth } from '@/components/providers/auth-provider'\r\nimport { Profile, UserRole, Worksite, UserWorksite } from '@/lib/types'\r\nimport {\r\n  Users,\r\n  Search,\r\n  X,\r\n  Shield,\r\n  User,\r\n  Edit,\r\n  ArrowLeft,\r\n  Save,\r\n  Loader2,\r\n  Mail,\r\n  Calendar,\r\n  Building2,\r\n  Plus,\r\n  Check,\r\n  Briefcase,\r\n  UserPlus,\r\n  Copy,\r\n  AlertCircle,\r\n  CheckCircle2,\r\n  Eye,\r\n  EyeOff\r\n} from 'lucide-react'\r\nimport { formatDate } from '@/lib/utils'\r\n\r\nconst ROLE_CONFIG = {\r\n  superuser: {\r\n    label: 'Amministratore',\r\n    description: 'Accesso completo al sistema',\r\n    color: 'violet',\r\n    icon: Shield\r\n  },\r\n  manager: {\r\n    label: 'Data Manager',\r\n    description: 'Gestisce prodotti, fornitori e cantieri',\r\n    color: 'amber',\r\n    icon: Briefcase\r\n  },\r\n  user: {\r\n    label: 'Operatore',\r\n    description: 'Movimenti sui cantieri assegnati',\r\n    color: 'blue',\r\n    icon: User\r\n  }\r\n}\r\n\r\ninterface CreatedUserResult {\r\n  email: string\r\n  full_name: string\r\n  success: boolean\r\n  error?: string\r\n  generated_password?: string\r\n  user_id?: string\r\n}\r\n\r\nfunction UtentiContent() {\r\n  const router = useRouter()\r\n  const searchParams = useSearchParams()\r\n  const { isSuperuser, profile: currentProfile } = useAuth()\r\n\r\n  const fromImpostazioni = searchParams.get('from') === 'impostazioni'\r\n  const backUrl = fromImpostazioni ? '/impostazioni' : '/'\r\n  const [profiles, setProfiles] = useState<Profile[]>([])\r\n  const [worksites, setWorksites] = useState<Worksite[]>([])\r\n  const [userWorksites, setUserWorksites] = useState<UserWorksite[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [showCreateForm, setShowCreateForm] = useState(false)\r\n  const [editingProfile, setEditingProfile] = useState<Profile | null>(null)\r\n  const [saving, setSaving] = useState(false)\r\n  const [activeTab, setActiveTab] = useState<'info' | 'cantieri'>('info')\r\n  const [selectedWorksites, setSelectedWorksites] = useState<string[]>([])\r\n  const [worksiteSearch, setWorksiteSearch] = useState('')\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [createdUsers, setCreatedUsers] = useState<CreatedUserResult[]>([])\r\n  const [copiedId, setCopiedId] = useState<string | null>(null)\r\n  const supabase = createClient()\r\n\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    full_name: '',\r\n    role: 'user' as UserRole\r\n  })\r\n\r\n  const [createFormData, setCreateFormData] = useState({\r\n    email: '',\r\n    full_name: '',\r\n    role: 'user' as UserRole,\r\n    redirect_email: 'info@bpcleaning.it' // Default redirect for password reset\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (!isSuperuser) {\r\n      router.push('/impostazioni')\r\n      return\r\n    }\r\n    fetchData()\r\n  }, [isSuperuser])\r\n\r\n  const fetchData = async () => {\r\n    const [profilesRes, worksitesRes, userWorksitesRes] = await Promise.all([\r\n      supabase.from('profiles').select('*').order('role').order('full_name'),\r\n      supabase.from('worksites').select('*').eq('status', 'active').order('name'),\r\n      supabase.from('user_worksites').select('*, worksite:worksites(*), user:profiles(*)')\r\n    ])\r\n\r\n    if (profilesRes.data) setProfiles(profilesRes.data)\r\n    if (worksitesRes.data) setWorksites(worksitesRes.data)\r\n    if (userWorksitesRes.data) setUserWorksites(userWorksitesRes.data)\r\n    setLoading(false)\r\n  }\r\n\r\n  const handleEdit = (profile: Profile) => {\r\n    setEditingProfile(profile)\r\n    setFormData({\r\n      email: profile.email,\r\n      full_name: profile.full_name,\r\n      role: profile.role\r\n    })\r\n    const assigned = userWorksites\r\n      .filter(uw => uw.user_id === profile.id)\r\n      .map(uw => uw.worksite_id)\r\n    setSelectedWorksites(assigned)\r\n    setActiveTab('info')\r\n    setShowForm(true)\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!formData.full_name.trim() || !editingProfile) return\r\n\r\n    setSaving(true)\r\n\r\n    // Update profile\r\n    const { error: profileError } = await supabase\r\n      .from('profiles')\r\n      .update({\r\n        full_name: formData.full_name.trim(),\r\n        role: formData.role\r\n      })\r\n      .eq('id', editingProfile.id)\r\n\r\n    if (profileError) {\r\n      alert('Errore durante il salvataggio: ' + profileError.message)\r\n      setSaving(false)\r\n      return\r\n    }\r\n\r\n    // Update worksite assignments (only for user and manager roles)\r\n    if (formData.role !== 'superuser') {\r\n      // Delete existing assignments\r\n      await supabase\r\n        .from('user_worksites')\r\n        .delete()\r\n        .eq('user_id', editingProfile.id)\r\n\r\n      // Insert new assignments\r\n      if (selectedWorksites.length > 0) {\r\n        const assignments = selectedWorksites.map(wsId => ({\r\n          user_id: editingProfile.id,\r\n          worksite_id: wsId\r\n        }))\r\n        await supabase.from('user_worksites').insert(assignments)\r\n      }\r\n    }\r\n\r\n    setShowForm(false)\r\n    fetchData()\r\n    setSaving(false)\r\n  }\r\n\r\n  const handleCreateUser = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!createFormData.email.trim() || !createFormData.full_name.trim()) return\r\n\r\n    setSaving(true)\r\n\r\n    try {\r\n      const response = await fetch('/api/users/create', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          email: createFormData.email.trim(),\r\n          full_name: createFormData.full_name.trim(),\r\n          role: createFormData.role,\r\n          redirect_email: createFormData.redirect_email.trim() || undefined\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        alert('Errore: ' + data.error)\r\n        setSaving(false)\r\n        return\r\n      }\r\n\r\n      // Add to created users list to show password\r\n      if (data.generated_password) {\r\n        setCreatedUsers(prev => [...prev, {\r\n          email: createFormData.email.trim(),\r\n          full_name: createFormData.full_name.trim(),\r\n          success: true,\r\n          generated_password: data.generated_password,\r\n          user_id: data.user.id\r\n        }])\r\n      }\r\n\r\n      // Reset form\r\n      setCreateFormData({\r\n        email: '',\r\n        full_name: '',\r\n        role: 'user',\r\n        redirect_email: 'info@bpcleaning.it'\r\n      })\r\n\r\n      // Refresh data\r\n      fetchData()\r\n\r\n    } catch (error) {\r\n      alert('Errore nella creazione utente')\r\n    }\r\n\r\n    setSaving(false)\r\n  }\r\n\r\n  const copyToClipboard = (text: string, id: string) => {\r\n    navigator.clipboard.writeText(text)\r\n    setCopiedId(id)\r\n    setTimeout(() => setCopiedId(null), 2000)\r\n  }\r\n\r\n  const toggleWorksite = (worksiteId: string) => {\r\n    setSelectedWorksites(prev =>\r\n      prev.includes(worksiteId)\r\n        ? prev.filter(id => id !== worksiteId)\r\n        : [...prev, worksiteId]\r\n    )\r\n  }\r\n\r\n  const getUserWorksiteCount = (userId: string) => {\r\n    return userWorksites.filter(uw => uw.user_id === userId).length\r\n  }\r\n\r\n  const filteredProfiles = profiles.filter(p => {\r\n    if (!searchQuery.trim()) return true\r\n    const query = searchQuery.toLowerCase()\r\n    return (\r\n      p.full_name.toLowerCase().includes(query) ||\r\n      p.email.toLowerCase().includes(query)\r\n    )\r\n  })\r\n\r\n  const filteredWorksites = worksites.filter(w => {\r\n    if (!worksiteSearch.trim()) return true\r\n    const query = worksiteSearch.toLowerCase()\r\n    return (\r\n      w.name.toLowerCase().includes(query) ||\r\n      w.code.toLowerCase().includes(query) ||\r\n      w.city?.toLowerCase().includes(query)\r\n    )\r\n  })\r\n\r\n  const superusers = filteredProfiles.filter(p => p.role === 'superuser')\r\n  const managers = filteredProfiles.filter(p => p.role === 'manager')\r\n  const users = filteredProfiles.filter(p => p.role === 'user')\r\n\r\n  if (!isSuperuser) return null\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Create user form\r\n  if (showCreateForm) {\r\n    return (\r\n      <div className=\"min-h-screen pb-24\">\r\n        <header className=\"bg-gradient-to-r from-emerald-500 via-emerald-600 to-teal-600 text-white px-4 pt-12 pb-6 rounded-b-3xl\">\r\n          <div className=\"max-w-4xl mx-auto\">\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowCreateForm(false)\r\n                  setCreatedUsers([])\r\n                }}\r\n                className=\"p-2 -ml-2 hover:bg-white/10 rounded-xl transition-colors\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5\" />\r\n              </button>\r\n              <span className=\"text-emerald-100\">Nuovo Utente</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"w-14 h-14 rounded-2xl bg-white/20 flex items-center justify-center\">\r\n                <UserPlus className=\"w-7 h-7\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-xl font-bold\">Crea Nuovo Utente</h1>\r\n                <p className=\"text-emerald-100 text-sm\">Aggiungi un dipendente al sistema</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        <div className=\"max-w-4xl mx-auto px-4 space-y-4 pt-4\">\r\n          {/* Show created users with passwords */}\r\n          {createdUsers.length > 0 && (\r\n            <div className=\"bg-emerald-50 rounded-2xl border border-emerald-200 p-4\">\r\n              <h3 className=\"font-semibold text-emerald-800 mb-3 flex items-center gap-2\">\r\n                <CheckCircle2 className=\"w-5 h-5\" />\r\n                Utenti Creati ({createdUsers.length})\r\n              </h3>\r\n              <div className=\"space-y-3\">\r\n                {createdUsers.map((user, idx) => (\r\n                  <div key={idx} className=\"bg-white rounded-xl p-3 border border-emerald-100\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <span className=\"font-medium text-gray-900\">{user.full_name}</span>\r\n                      <span className=\"text-sm text-gray-500\">{user.email}</span>\r\n                    </div>\r\n                    {user.generated_password && (\r\n                      <div className=\"flex items-center gap-2 bg-gray-50 rounded-lg p-2\">\r\n                        <span className=\"text-sm text-gray-600\">Password:</span>\r\n                        <code className=\"flex-1 font-mono text-sm bg-white px-2 py-1 rounded border\">\r\n                          {showPassword ? user.generated_password : '••••••••••••'}\r\n                        </code>\r\n                        <button\r\n                          onClick={() => setShowPassword(!showPassword)}\r\n                          className=\"p-1.5 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                        >\r\n                          {showPassword ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                        </button>\r\n                        <button\r\n                          onClick={() => copyToClipboard(user.generated_password!, user.email)}\r\n                          className=\"p-1.5 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                        >\r\n                          {copiedId === user.email ? (\r\n                            <Check className=\"w-4 h-4 text-emerald-600\" />\r\n                          ) : (\r\n                            <Copy className=\"w-4 h-4\" />\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <p className=\"text-xs text-emerald-600 mt-3\">\r\n                ⚠️ Salva queste password! Non potrai vederle di nuovo.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleCreateUser} className=\"space-y-4\">\r\n            <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Email *\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                value={createFormData.email}\r\n                onChange={(e) => setCreateFormData({ ...createFormData, email: e.target.value })}\r\n                placeholder=\"es. m.rossi@bpcleaning.it\"\r\n                className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Nome Completo *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={createFormData.full_name}\r\n                onChange={(e) => setCreateFormData({ ...createFormData, full_name: e.target.value })}\r\n                placeholder=\"Es. Mario Rossi\"\r\n                className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Email per Reset Password\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                value={createFormData.redirect_email}\r\n                onChange={(e) => setCreateFormData({ ...createFormData, redirect_email: e.target.value })}\r\n                placeholder=\"info@bpcleaning.it\"\r\n                className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-2\">\r\n                L'email dove verranno inviate le richieste di reset password (per alias)\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                Ruolo\r\n              </label>\r\n              <div className=\"space-y-2\">\r\n                {(Object.entries(ROLE_CONFIG) as [UserRole, typeof ROLE_CONFIG.superuser][]).map(([role, config]) => {\r\n                  const Icon = config.icon\r\n                  return (\r\n                    <label\r\n                      key={role}\r\n                      className={`flex items-center gap-3 p-3 rounded-xl border-2 cursor-pointer transition-all ${\r\n                        createFormData.role === role\r\n                          ? `border-${config.color}-500 bg-${config.color}-50`\r\n                          : 'border-gray-100 hover:border-gray-200'\r\n                      }`}\r\n                    >\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"role\"\r\n                        value={role}\r\n                        checked={createFormData.role === role}\r\n                        onChange={(e) => setCreateFormData({ ...createFormData, role: e.target.value as UserRole })}\r\n                        className=\"sr-only\"\r\n                      />\r\n                      <div className={`w-10 h-10 rounded-xl bg-${config.color}-100 flex items-center justify-center`}>\r\n                        <Icon className={`w-5 h-5 text-${config.color}-600`} />\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"font-medium text-gray-900\">{config.label}</p>\r\n                        <p className=\"text-xs text-gray-500\">{config.description}</p>\r\n                      </div>\r\n                      {createFormData.role === role && (\r\n                        <div className={`w-6 h-6 rounded-full bg-${config.color}-500 flex items-center justify-center`}>\r\n                          <Check className=\"w-4 h-4 text-white\" />\r\n                        </div>\r\n                      )}\r\n                    </label>\r\n                  )\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={saving || !createFormData.email.trim() || !createFormData.full_name.trim()}\r\n              className=\"w-full flex items-center justify-center gap-2 p-4 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-2xl font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {saving ? (\r\n                <>\r\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                  Creazione in corso...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <UserPlus className=\"w-5 h-5\" />\r\n                  Crea Utente\r\n                </>\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          <div className=\"bg-amber-50 rounded-2xl border border-amber-100 p-4\">\r\n            <p className=\"text-sm text-amber-800\">\r\n              <strong>Nota sugli alias email:</strong> Se l'email è un alias (es. m.rossi@bpcleaning.it → info@bpcleaning.it),\r\n              specifica l'indirizzo reale nel campo \"Email per Reset Password\". Le richieste di reset password\r\n              verranno inviate a quell'indirizzo.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Edit form view (existing code)\r\n  if (showForm && editingProfile) {\r\n    const roleConfig = ROLE_CONFIG[formData.role]\r\n    const RoleIcon = roleConfig.icon\r\n\r\n    return (\r\n      <div className=\"min-h-screen pb-24\">\r\n        <header className=\"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white px-4 pt-12 pb-6 rounded-b-3xl\">\r\n          <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"flex items-center gap-3 mb-4\">\r\n            <button\r\n              onClick={() => setShowForm(false)}\r\n              className=\"p-2 -ml-2 hover:bg-white/10 rounded-xl transition-colors\"\r\n            >\r\n              <ArrowLeft className=\"w-5 h-5\" />\r\n            </button>\r\n            <span className=\"text-blue-100\">Modifica Utente</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-14 h-14 rounded-2xl bg-white/20 flex items-center justify-center\">\r\n              <RoleIcon className=\"w-7 h-7\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-xl font-bold\">{formData.full_name || 'Modifica'}</h1>\r\n              <p className=\"text-blue-100 text-sm\">{formData.email}</p>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"max-w-4xl mx-auto px-4 -mt-4 mb-4\">\r\n          <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-1 flex\">\r\n            <button\r\n              onClick={() => setActiveTab('info')}\r\n              className={`flex-1 py-2.5 px-4 rounded-xl text-sm font-medium transition-colors ${\r\n                activeTab === 'info'\r\n                  ? 'bg-blue-600 text-white'\r\n                  : 'text-gray-600 hover:bg-gray-100'\r\n              }`}\r\n            >\r\n              Informazioni\r\n            </button>\r\n            {formData.role !== 'superuser' && (\r\n              <button\r\n                onClick={() => setActiveTab('cantieri')}\r\n                className={`flex-1 py-2.5 px-4 rounded-xl text-sm font-medium transition-colors flex items-center justify-center gap-2 ${\r\n                  activeTab === 'cantieri'\r\n                    ? 'bg-blue-600 text-white'\r\n                    : 'text-gray-600 hover:bg-gray-100'\r\n                }`}\r\n              >\r\n                Cantieri\r\n                {selectedWorksites.length > 0 && (\r\n                  <span className={`px-2 py-0.5 rounded-full text-xs ${\r\n                    activeTab === 'cantieri' ? 'bg-white/20' : 'bg-blue-100 text-blue-600'\r\n                  }`}>\r\n                    {selectedWorksites.length}\r\n                  </span>\r\n                )}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"max-w-4xl mx-auto px-4 space-y-4\">\r\n          {activeTab === 'info' ? (\r\n            <>\r\n              <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Email (non modificabile)\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  disabled\r\n                  className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-500 bg-gray-50\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Nome Completo *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.full_name}\r\n                  onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\r\n                  placeholder=\"Es. Mario Rossi\"\r\n                  className=\"w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                  Ruolo\r\n                </label>\r\n                <div className=\"space-y-2\">\r\n                  {(Object.entries(ROLE_CONFIG) as [UserRole, typeof ROLE_CONFIG.superuser][]).map(([role, config]) => {\r\n                    const Icon = config.icon\r\n                    const isDisabled = editingProfile.id === currentProfile?.id && role !== formData.role\r\n                    return (\r\n                      <label\r\n                        key={role}\r\n                        className={`flex items-center gap-3 p-3 rounded-xl border-2 cursor-pointer transition-all ${\r\n                          formData.role === role\r\n                            ? `border-${config.color}-500 bg-${config.color}-50`\r\n                            : 'border-gray-100 hover:border-gray-200'\r\n                        } ${isDisabled ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                      >\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"role\"\r\n                          value={role}\r\n                          checked={formData.role === role}\r\n                          onChange={(e) => setFormData({ ...formData, role: e.target.value as UserRole })}\r\n                          disabled={isDisabled}\r\n                          className=\"sr-only\"\r\n                        />\r\n                        <div className={`w-10 h-10 rounded-xl bg-${config.color}-100 flex items-center justify-center`}>\r\n                          <Icon className={`w-5 h-5 text-${config.color}-600`} />\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"font-medium text-gray-900\">{config.label}</p>\r\n                          <p className=\"text-xs text-gray-500\">{config.description}</p>\r\n                        </div>\r\n                        {formData.role === role && (\r\n                          <div className={`w-6 h-6 rounded-full bg-${config.color}-500 flex items-center justify-center`}>\r\n                            <Check className=\"w-4 h-4 text-white\" />\r\n                          </div>\r\n                        )}\r\n                      </label>\r\n                    )\r\n                  })}\r\n                </div>\r\n                {editingProfile.id === currentProfile?.id && (\r\n                  <p className=\"text-xs text-gray-500 mt-3\">\r\n                    Non puoi modificare il tuo ruolo\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {/* Worksite search */}\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Cerca cantiere...\"\r\n                  value={worksiteSearch}\r\n                  onChange={(e) => setWorksiteSearch(e.target.value)}\r\n                  className=\"w-full pl-10 pr-10 py-3 bg-white border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n                {worksiteSearch && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setWorksiteSearch('')}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-100 rounded-full\"\r\n                  >\r\n                    <X className=\"w-4 h-4 text-gray-400\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              {/* Selected count */}\r\n              <div className=\"flex items-center justify-between px-1\">\r\n                <span className=\"text-sm text-gray-500\">\r\n                  {selectedWorksites.length} cantieri selezionati\r\n                </span>\r\n                {selectedWorksites.length > 0 && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setSelectedWorksites([])}\r\n                    className=\"text-sm text-red-600 font-medium\"\r\n                  >\r\n                    Rimuovi tutti\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              {/* Worksites list */}\r\n              <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden max-h-96 overflow-y-auto\">\r\n                {filteredWorksites.length === 0 ? (\r\n                  <div className=\"p-6 text-center text-gray-500\">\r\n                    Nessun cantiere trovato\r\n                  </div>\r\n                ) : (\r\n                  filteredWorksites.map((worksite, index) => {\r\n                    const isSelected = selectedWorksites.includes(worksite.id)\r\n                    return (\r\n                      <button\r\n                        key={worksite.id}\r\n                        type=\"button\"\r\n                        onClick={() => toggleWorksite(worksite.id)}\r\n                        className={`w-full flex items-center gap-3 p-3 text-left transition-colors ${\r\n                          index !== filteredWorksites.length - 1 ? 'border-b border-gray-100' : ''\r\n                        } ${isSelected ? 'bg-blue-50' : 'hover:bg-gray-50'}`}\r\n                      >\r\n                        <div className={`w-10 h-10 rounded-xl flex items-center justify-center ${\r\n                          isSelected ? 'bg-blue-500' : 'bg-gray-100'\r\n                        }`}>\r\n                          {isSelected ? (\r\n                            <Check className=\"w-5 h-5 text-white\" />\r\n                          ) : (\r\n                            <Building2 className=\"w-5 h-5 text-gray-400\" />\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"font-medium text-gray-900 truncate\">{worksite.name}</p>\r\n                          <p className=\"text-xs text-gray-500 truncate\">\r\n                            {worksite.code} • {worksite.city}\r\n                          </p>\r\n                        </div>\r\n                      </button>\r\n                    )\r\n                  })\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"bg-amber-50 rounded-2xl border border-amber-100 p-4\">\r\n                <p className=\"text-sm text-amber-800\">\r\n                  <strong>Nota:</strong> L'utente potrà accedere solo ai cantieri selezionati.\r\n                  {formData.role === 'user' && ' Gli operatori potranno registrare movimenti solo su questi cantieri.'}\r\n                  {formData.role === 'manager' && ' I manager potranno modificare solo questi cantieri.'}\r\n                </p>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={saving || !formData.full_name.trim()}\r\n            className=\"w-full flex items-center justify-center gap-2 p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {saving ? (\r\n              <>\r\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                Salvataggio...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Save className=\"w-5 h-5\" />\r\n                Salva Modifiche\r\n              </>\r\n            )}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // List view\r\n  const renderUserCard = (profile: Profile, index: number, offsetIndex: number = 0) => {\r\n    const config = ROLE_CONFIG[profile.role]\r\n    const Icon = config.icon\r\n    const worksiteCount = getUserWorksiteCount(profile.id)\r\n\r\n    return (\r\n      <div\r\n        key={profile.id}\r\n        className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 animate-slide-up\"\r\n        style={{ animationDelay: `${(offsetIndex + index) * 0.05}s` }}\r\n      >\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className={`w-12 h-12 bg-${config.color}-100 rounded-full flex items-center justify-center`}>\r\n              <Icon className={`w-6 h-6 text-${config.color}-600`} />\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-semibold text-gray-900\">\r\n                {profile.full_name}\r\n                {profile.id === currentProfile?.id && (\r\n                  <span className=\"ml-2 text-xs text-violet-600\">(tu)</span>\r\n                )}\r\n              </h3>\r\n              <div className=\"flex items-center gap-1 text-sm text-gray-500\">\r\n                <Mail className=\"w-3 h-3\" />\r\n                {profile.email}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={() => handleEdit(profile)}\r\n            className=\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors\"\r\n          >\r\n            <Edit className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n        <div className=\"flex items-center gap-4 mt-3 ml-15\">\r\n          <div className=\"flex items-center gap-1 text-xs text-gray-400\">\r\n            <Calendar className=\"w-3 h-3\" />\r\n            {formatDate(profile.created_at)}\r\n          </div>\r\n          {profile.role !== 'superuser' && (\r\n            <div className=\"flex items-center gap-1 text-xs text-gray-400\">\r\n              <Building2 className=\"w-3 h-3\" />\r\n              {worksiteCount} {worksiteCount === 1 ? 'cantiere' : 'cantieri'}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen\">\r\n      <header className=\"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white px-4 pt-12 pb-6 rounded-b-3xl\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <Link\r\n            href={backUrl}\r\n            className=\"p-2 -ml-2 hover:bg-white/10 rounded-xl transition-colors\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5\" />\r\n          </Link>\r\n          <div className=\"flex-1\">\r\n            <h1 className=\"text-xl font-bold\">Gestione Utenti</h1>\r\n            <p className=\"text-blue-100 text-sm\">{profiles.length} utenti registrati</p>\r\n          </div>\r\n          <button\r\n            onClick={() => setShowCreateForm(true)}\r\n            className=\"p-2.5 bg-white/20 hover:bg-white/30 rounded-xl transition-colors\"\r\n          >\r\n            <UserPlus className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-blue-300\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Cerca utente...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"w-full pl-10 pr-10 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/30\"\r\n          />\r\n          {searchQuery && (\r\n            <button\r\n              onClick={() => setSearchQuery('')}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-white/10 rounded-full\"\r\n            >\r\n              <X className=\"w-4 h-4 text-blue-200\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"max-w-4xl mx-auto px-4 space-y-4 pb-24 pt-4\">\r\n        {/* Superusers */}\r\n        {superusers.length > 0 && (\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2\">\r\n              <Shield className=\"w-4 h-4\" />\r\n              Amministratori ({superusers.length})\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              {superusers.map((profile, index) => renderUserCard(profile, index))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Managers */}\r\n        {managers.length > 0 && (\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2\">\r\n              <Briefcase className=\"w-4 h-4\" />\r\n              Data Manager ({managers.length})\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              {managers.map((profile, index) => renderUserCard(profile, index, superusers.length))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Regular users */}\r\n        {users.length > 0 && (\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2\">\r\n              <User className=\"w-4 h-4\" />\r\n              Operatori ({users.length})\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              {users.map((profile, index) => renderUserCard(profile, index, superusers.length + managers.length))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {filteredProfiles.length === 0 && searchQuery && (\r\n          <div className=\"flex flex-col items-center justify-center py-12 px-4 text-center\">\r\n            <div className=\"w-16 h-16 rounded-2xl bg-gray-100 flex items-center justify-center mb-4 text-gray-400\">\r\n              <Search className=\"w-8 h-8\" />\r\n            </div>\r\n            <p className=\"text-lg font-semibold text-gray-900 mb-2\">Nessun risultato</p>\r\n            <p className=\"text-sm text-gray-500 max-w-sm\">\r\n              Nessun utente trovato per \"{searchQuery}\"\r\n            </p>\r\n            <button\r\n              onClick={() => setSearchQuery('')}\r\n              className=\"mt-4 text-blue-600 font-medium\"\r\n            >\r\n              Cancella ricerca\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Info box */}\r\n        <div className=\"bg-blue-50 rounded-2xl border border-blue-100 p-4 mt-6\">\r\n          <p className=\"text-sm text-blue-800 font-medium mb-2\">Ruoli disponibili</p>\r\n          <div className=\"space-y-2 text-xs text-blue-600\">\r\n            <p><strong>Amministratore</strong>: accesso completo a tutto il sistema</p>\r\n            <p><strong>Data Manager</strong>: gestisce prodotti, fornitori e cantieri (no report costi)</p>\r\n            <p><strong>Operatore</strong>: registra movimenti solo sui cantieri assegnati</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-emerald-50 rounded-2xl border border-emerald-100 p-4\">\r\n          <p className=\"text-sm text-emerald-700 font-medium mb-1 flex items-center gap-2\">\r\n            <UserPlus className=\"w-4 h-4\" />\r\n            Aggiungere nuovi utenti\r\n          </p>\r\n          <p className=\"text-xs text-emerald-600\">\r\n            Usa il pulsante <strong>+</strong> in alto a destra per creare nuovi account.\r\n            Puoi impostare un'email alias che punta a un indirizzo reale per il reset password.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function UtentiPage() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <Loader2 className=\"w-8 h-8 text-blue-600 animate-spin\" />\r\n      </div>\r\n    }>\r\n      <UtentiContent />\r\n    </Suspense>\r\n  )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '14', height: '14', x: '8', y: '8', rx: '2', ry: '2', key: '17jyea' }],\n  ['path', { d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2', key: 'zix9uf' }],\n];\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('copy', __iconNode);\n\nexport default Copy;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n];\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('user-plus', __iconNode);\n\nexport default UserPlus;\n"],"names":[],"mappings":"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","ignoreList":[1,2,3]}